<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>JpaPersistenceServiceImpl (genie 4.2.0-SNAPSHOT API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="../../../../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../../../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../../../../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../../../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="JpaPersistenceServiceImpl (genie 4.2.0-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10,"i26":10,"i27":10,"i28":10,"i29":10,"i30":10,"i31":10,"i32":10,"i33":10,"i34":10,"i35":10,"i36":10,"i37":10,"i38":10,"i39":10,"i40":10,"i41":10,"i42":10,"i43":10,"i44":10,"i45":10,"i46":10,"i47":10,"i48":10,"i49":10,"i50":10,"i51":10,"i52":10,"i53":10,"i54":10,"i55":10,"i56":10,"i57":42,"i58":10,"i59":10,"i60":10,"i61":10,"i62":10,"i63":10,"i64":10,"i65":10,"i66":10,"i67":10,"i68":10,"i69":10,"i70":10,"i71":10,"i72":10,"i73":10,"i74":10,"i75":10,"i76":10,"i77":10,"i78":10,"i79":10,"i80":10,"i81":10,"i82":10,"i83":10,"i84":10,"i85":10,"i86":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"],32:["t6","Deprecated Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">com.netflix.genie.web.data.services.impl.jpa</a></div>
<h2 title="Class JpaPersistenceServiceImpl" class="title">Class JpaPersistenceServiceImpl</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.netflix.genie.web.data.services.impl.jpa.JpaPersistenceServiceImpl</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
</dl>
<hr>
<pre>@Transactional(rollbackFor={<a href="../../../../../common/exceptions/GenieException.html" title="class in com.netflix.genie.common.exceptions">GenieException.class</a>,<a href="../../../../../common/internal/exceptions/checked/GenieCheckedException.html" title="class in com.netflix.genie.common.internal.exceptions.checked">GenieCheckedException.class</a>,<a href="../../../../../common/internal/exceptions/unchecked/GenieRuntimeException.html" title="class in com.netflix.genie.common.internal.exceptions.unchecked">GenieRuntimeException.class</a>,javax.validation.ConstraintViolationException.class})
public class <span class="typeNameLabel">JpaPersistenceServiceImpl</span>
extends java.lang.Object
implements <a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></pre>
<div class="block">Implementation of <a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services"><code>PersistenceService</code></a> using JPA.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>4.0.0</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(javax.persistence.EntityManager,com.netflix.genie.web.data.services.impl.jpa.repositories.JpaRepositories,com.netflix.genie.common.internal.tracing.brave.BraveTracingComponents)">JpaPersistenceServiceImpl</a></span>&#8203;(javax.persistence.EntityManager&nbsp;entityManager,
                         <a href="repositories/JpaRepositories.html" title="class in com.netflix.genie.web.data.services.impl.jpa.repositories">JpaRepositories</a>&nbsp;jpaRepositories,
                         <a href="../../../../../common/internal/tracing/brave/BraveTracingComponents.html" title="class in com.netflix.genie.common.internal.tracing.brave">BraveTracingComponents</a>&nbsp;tracingComponents)</code></th>
<td class="colLast">
<div class="block">Constructor.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t6" class="tableTab"><span><a href="javascript:show(32);">Deprecated Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#addApplicationsForCommand(java.lang.String,java.util.List)">addApplicationsForCommand</a></span>&#8203;(@NotBlank java.lang.String&nbsp;id,
                         @NotEmpty java.util.List&lt;@NotBlank java.lang.String&gt;&nbsp;applicationIds)</code></th>
<td class="colLast">
<div class="block">Add applications for the command.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#addClusterCriterionForCommand(java.lang.String,com.netflix.genie.common.external.dtos.v4.Criterion)">addClusterCriterionForCommand</a></span>&#8203;(java.lang.String&nbsp;id,
                             @Valid <a href="../../../../../common/external/dtos/v4/Criterion.html" title="class in com.netflix.genie.common.external.dtos.v4">Criterion</a>&nbsp;criterion)</code></th>
<td class="colLast">
<div class="block">Add a new <a href="../../../../../common/external/dtos/v4/Criterion.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Criterion</code></a> to the existing list of cluster criteria for the command identified by id.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#addClusterCriterionForCommand(java.lang.String,com.netflix.genie.common.external.dtos.v4.Criterion,@javax.validation.constraints.Min(0L)int)">addClusterCriterionForCommand</a></span>&#8203;(java.lang.String&nbsp;id,
                             @Valid <a href="../../../../../common/external/dtos/v4/Criterion.html" title="class in com.netflix.genie.common.external.dtos.v4">Criterion</a>&nbsp;criterion,
                             @javax.validation.constraints.Min(0L) int&nbsp;priority)</code></th>
<td class="colLast">
<div class="block">Add a new <a href="../../../../../common/external/dtos/v4/Criterion.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Criterion</code></a> to the existing list of cluster criteria for the command identified by id.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>&lt;R extends <a href="../../../../../common/external/dtos/v4/CommonResource.html" title="class in com.netflix.genie.common.external.dtos.v4">CommonResource</a>&gt;<br>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#addConfigsToResource(java.lang.String,java.util.Set,java.lang.Class)">addConfigsToResource</a></span>&#8203;(@NotBlank java.lang.String&nbsp;id,
                    java.util.Set&lt;@Size(max=1024) java.lang.String&gt;&nbsp;configs,
                    java.lang.Class&lt;R&gt;&nbsp;resourceClass)</code></th>
<td class="colLast">
<div class="block">Add configuration files to the existing set for a resource.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>&lt;R extends <a href="../../../../../common/external/dtos/v4/CommonResource.html" title="class in com.netflix.genie.common.external.dtos.v4">CommonResource</a>&gt;<br>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#addDependenciesToResource(java.lang.String,java.util.Set,java.lang.Class)">addDependenciesToResource</a></span>&#8203;(@NotBlank java.lang.String&nbsp;id,
                         java.util.Set&lt;@Size(max=1024) java.lang.String&gt;&nbsp;dependencies,
                         java.lang.Class&lt;R&gt;&nbsp;resourceClass)</code></th>
<td class="colLast">
<div class="block">Add dependency files to the existing set for a resource.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>&lt;R extends <a href="../../../../../common/external/dtos/v4/CommonResource.html" title="class in com.netflix.genie.common.external.dtos.v4">CommonResource</a>&gt;<br>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#addTagsToResource(java.lang.String,java.util.Set,java.lang.Class)">addTagsToResource</a></span>&#8203;(@NotBlank java.lang.String&nbsp;id,
                 java.util.Set&lt;@Size(max=255) java.lang.String&gt;&nbsp;tags,
                 java.lang.Class&lt;R&gt;&nbsp;resourceClass)</code></th>
<td class="colLast">
<div class="block">Add tags to the existing set for a resource.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#claimJob(java.lang.String,com.netflix.genie.common.external.dtos.v4.AgentClientMetadata)">claimJob</a></span>&#8203;(@NotBlank java.lang.String&nbsp;id,
        @Valid <a href="../../../../../common/external/dtos/v4/AgentClientMetadata.html" title="class in com.netflix.genie.common.external.dtos.v4">AgentClientMetadata</a>&nbsp;agentClientMetadata)</code></th>
<td class="colLast">
<div class="block">Set a job identified by <code>id</code> to be owned by the agent identified by <code>agentClientMetadata</code>.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#deleteAllApplications()">deleteAllApplications</a></span>()</code></th>
<td class="colLast">
<div class="block">Delete all applications from the system.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#deleteAllClusters()">deleteAllClusters</a></span>()</code></th>
<td class="colLast">
<div class="block">Delete all clusters from database.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#deleteAllCommands()">deleteAllCommands</a></span>()</code></th>
<td class="colLast">
<div class="block">Delete all commands from the system.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#deleteApplication(java.lang.String)">deleteApplication</a></span>&#8203;(@NotBlank java.lang.String&nbsp;id)</code></th>
<td class="colLast">
<div class="block">Delete an <a href="../../../../../common/external/dtos/v4/Application.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Application</code></a> from the system.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#deleteCluster(java.lang.String)">deleteCluster</a></span>&#8203;(@NotBlank java.lang.String&nbsp;id)</code></th>
<td class="colLast">
<div class="block">Delete a <a href="../../../../../common/external/dtos/v4/Cluster.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Cluster</code></a> by id.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#deleteCommand(java.lang.String)">deleteCommand</a></span>&#8203;(@NotBlank java.lang.String&nbsp;id)</code></th>
<td class="colLast">
<div class="block">Delete a <a href="../../../../../common/external/dtos/v4/Command.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Command</code></a> from system.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#deleteJobsCreatedBefore(java.time.Instant,java.util.Set,@javax.validation.constraints.Min(1L)int)">deleteJobsCreatedBefore</a></span>&#8203;(@NotNull java.time.Instant&nbsp;creationThreshold,
                       @NotNull java.util.Set&lt;<a href="../../../../../common/external/dtos/v4/JobStatus.html" title="enum in com.netflix.genie.common.external.dtos.v4">JobStatus</a>&gt;&nbsp;excludeStatuses,
                       @javax.validation.constraints.Min(1L) int&nbsp;batchSize)</code></th>
<td class="colLast">
<div class="block">This method will delete a chunk of jobs whose creation time is earlier than the given date.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#deleteUnusedApplications(java.time.Instant,int)">deleteUnusedApplications</a></span>&#8203;(java.time.Instant&nbsp;createdThreshold,
                        int&nbsp;batchSize)</code></th>
<td class="colLast">
<div class="block">Delete any unused applications that were created before the given time.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#deleteUnusedClusters(java.util.Set,java.time.Instant,int)">deleteUnusedClusters</a></span>&#8203;(java.util.Set&lt;<a href="../../../../../common/external/dtos/v4/ClusterStatus.html" title="enum in com.netflix.genie.common.external.dtos.v4">ClusterStatus</a>&gt;&nbsp;deleteStatuses,
                    java.time.Instant&nbsp;clusterCreatedThreshold,
                    int&nbsp;batchSize)</code></th>
<td class="colLast">
<div class="block">Delete all clusters that are in one of the given states, aren't attached to any jobs and were created before
 the given time.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#deleteUnusedCommands(java.util.Set,java.time.Instant,int)">deleteUnusedCommands</a></span>&#8203;(java.util.Set&lt;<a href="../../../../../common/external/dtos/v4/CommandStatus.html" title="enum in com.netflix.genie.common.external.dtos.v4">CommandStatus</a>&gt;&nbsp;deleteStatuses,
                    java.time.Instant&nbsp;commandCreatedThreshold,
                    int&nbsp;batchSize)</code></th>
<td class="colLast">
<div class="block">Bulk delete commands from the database where their status is in deleteStatuses they were created
 before commandCreatedThreshold and they aren't attached to any jobs still in the database.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#deleteUnusedFiles(java.time.Instant,@javax.validation.constraints.Min(1L)int)">deleteUnusedFiles</a></span>&#8203;(@NotNull java.time.Instant&nbsp;createdThreshold,
                 @javax.validation.constraints.Min(1L) int&nbsp;batchSize)</code></th>
<td class="colLast">
<div class="block">Delete all files from the database that aren't referenced which were created before the supplied created
 threshold.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#deleteUnusedTags(java.time.Instant,@javax.validation.constraints.Min(1L)int)">deleteUnusedTags</a></span>&#8203;(@NotNull java.time.Instant&nbsp;createdThreshold,
                @javax.validation.constraints.Min(1L) int&nbsp;batchSize)</code></th>
<td class="colLast">
<div class="block">Delete all tags from the database that aren't referenced which were created before the supplied created
 threshold.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>org.springframework.data.domain.Page&lt;<a href="../../../../../common/external/dtos/v4/Application.html" title="class in com.netflix.genie.common.external.dtos.v4">Application</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#findApplications(java.lang.String,java.lang.String,java.util.Set,java.util.Set,java.lang.String,org.springframework.data.domain.Pageable)">findApplications</a></span>&#8203;(java.lang.String&nbsp;name,
                java.lang.String&nbsp;user,
                java.util.Set&lt;<a href="../../../../../common/external/dtos/v4/ApplicationStatus.html" title="enum in com.netflix.genie.common.external.dtos.v4">ApplicationStatus</a>&gt;&nbsp;statuses,
                java.util.Set&lt;java.lang.String&gt;&nbsp;tags,
                java.lang.String&nbsp;type,
                org.springframework.data.domain.Pageable&nbsp;page)</code></th>
<td class="colLast">
<div class="block">Find applications which match the given filter criteria.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>org.springframework.data.domain.Page&lt;<a href="../../../../../common/external/dtos/v4/Cluster.html" title="class in com.netflix.genie.common.external.dtos.v4">Cluster</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#findClusters(java.lang.String,java.util.Set,java.util.Set,java.time.Instant,java.time.Instant,org.springframework.data.domain.Pageable)">findClusters</a></span>&#8203;(java.lang.String&nbsp;name,
            java.util.Set&lt;<a href="../../../../../common/external/dtos/v4/ClusterStatus.html" title="enum in com.netflix.genie.common.external.dtos.v4">ClusterStatus</a>&gt;&nbsp;statuses,
            java.util.Set&lt;java.lang.String&gt;&nbsp;tags,
            java.time.Instant&nbsp;minUpdateTime,
            java.time.Instant&nbsp;maxUpdateTime,
            org.springframework.data.domain.Pageable&nbsp;page)</code></th>
<td class="colLast">
<div class="block">Find and <a href="../../../../../common/external/dtos/v4/Cluster.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Cluster</code></a>s that match the given parameters.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>java.util.Set&lt;<a href="../../../../../common/external/dtos/v4/Cluster.html" title="class in com.netflix.genie.common.external.dtos.v4">Cluster</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#findClustersMatchingAnyCriterion(java.util.Set,boolean)">findClustersMatchingAnyCriterion</a></span>&#8203;(@NotEmpty java.util.Set&lt;@Valid <a href="../../../../../common/external/dtos/v4/Criterion.html" title="class in com.netflix.genie.common.external.dtos.v4">Criterion</a>&gt;&nbsp;criteria,
                                boolean&nbsp;addDefaultStatus)</code></th>
<td class="colLast">
<div class="block">Find all the <a href="../../../../../common/external/dtos/v4/Cluster.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Cluster</code></a>'s that match any of the given <a href="../../../../../common/external/dtos/v4/Criterion.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Criterion</code></a>.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>java.util.Set&lt;<a href="../../../../../common/external/dtos/v4/Cluster.html" title="class in com.netflix.genie.common.external.dtos.v4">Cluster</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#findClustersMatchingCriterion(com.netflix.genie.common.external.dtos.v4.Criterion,boolean)">findClustersMatchingCriterion</a></span>&#8203;(@Valid <a href="../../../../../common/external/dtos/v4/Criterion.html" title="class in com.netflix.genie.common.external.dtos.v4">Criterion</a>&nbsp;criterion,
                             boolean&nbsp;addDefaultStatus)</code></th>
<td class="colLast">
<div class="block">Find all the <a href="../../../../../common/external/dtos/v4/Cluster.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Cluster</code></a>'s that match the given <a href="../../../../../common/external/dtos/v4/Criterion.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Criterion</code></a>.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>org.springframework.data.domain.Page&lt;<a href="../../../../../common/external/dtos/v4/Command.html" title="class in com.netflix.genie.common.external.dtos.v4">Command</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#findCommands(java.lang.String,java.lang.String,java.util.Set,java.util.Set,org.springframework.data.domain.Pageable)">findCommands</a></span>&#8203;(java.lang.String&nbsp;name,
            java.lang.String&nbsp;user,
            java.util.Set&lt;<a href="../../../../../common/external/dtos/v4/CommandStatus.html" title="enum in com.netflix.genie.common.external.dtos.v4">CommandStatus</a>&gt;&nbsp;statuses,
            java.util.Set&lt;java.lang.String&gt;&nbsp;tags,
            org.springframework.data.domain.Pageable&nbsp;page)</code></th>
<td class="colLast">
<div class="block">Find commands matching the given filter criteria.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>java.util.Set&lt;<a href="../../../../../common/external/dtos/v4/Command.html" title="class in com.netflix.genie.common.external.dtos.v4">Command</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#findCommandsMatchingCriterion(com.netflix.genie.common.external.dtos.v4.Criterion,boolean)">findCommandsMatchingCriterion</a></span>&#8203;(@Valid <a href="../../../../../common/external/dtos/v4/Criterion.html" title="class in com.netflix.genie.common.external.dtos.v4">Criterion</a>&nbsp;criterion,
                             boolean&nbsp;addDefaultStatus)</code></th>
<td class="colLast">
<div class="block">Find all the <a href="../../../../../common/external/dtos/v4/Command.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Command</code></a>'s that match the given <a href="../../../../../common/external/dtos/v4/Criterion.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Criterion</code></a>.</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>org.springframework.data.domain.Page&lt;<a href="../../../../../common/dto/search/JobSearchResult.html" title="class in com.netflix.genie.common.dto.search">JobSearchResult</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#findJobs(java.lang.String,java.lang.String,java.lang.String,java.util.Set,java.util.Set,java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.time.Instant,java.time.Instant,java.time.Instant,java.time.Instant,java.lang.String,java.lang.String,org.springframework.data.domain.Pageable)">findJobs</a></span>&#8203;(java.lang.String&nbsp;id,
        java.lang.String&nbsp;name,
        java.lang.String&nbsp;user,
        java.util.Set&lt;<a href="../../../../../common/dto/JobStatus.html" title="enum in com.netflix.genie.common.dto">JobStatus</a>&gt;&nbsp;statuses,
        java.util.Set&lt;java.lang.String&gt;&nbsp;tags,
        java.lang.String&nbsp;clusterName,
        java.lang.String&nbsp;clusterId,
        java.lang.String&nbsp;commandName,
        java.lang.String&nbsp;commandId,
        java.time.Instant&nbsp;minStarted,
        java.time.Instant&nbsp;maxStarted,
        java.time.Instant&nbsp;minFinished,
        java.time.Instant&nbsp;maxFinished,
        java.lang.String&nbsp;grouping,
        java.lang.String&nbsp;groupingInstance,
        @NotNull org.springframework.data.domain.Pageable&nbsp;page)</code></th>
<td class="colLast">
<div class="block">Find jobs which match the given filter criteria.</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getActiveJobCountForUser(java.lang.String)">getActiveJobCountForUser</a></span>&#8203;(@NotBlank java.lang.String&nbsp;user)</code></th>
<td class="colLast">
<div class="block">Get the count of 'active' jobs for a given user across all instances.</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>java.util.Set&lt;java.lang.String&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getActiveJobs()">getActiveJobs</a></span>()</code></th>
<td class="colLast">
<div class="block">Get the set of active jobs.</div>
</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code><a href="../../../../../common/external/dtos/v4/Application.html" title="class in com.netflix.genie.common.external.dtos.v4">Application</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getApplication(java.lang.String)">getApplication</a></span>&#8203;(@NotBlank java.lang.String&nbsp;id)</code></th>
<td class="colLast">
<div class="block">Get the application metadata for given id.</div>
</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../../../common/external/dtos/v4/Application.html" title="class in com.netflix.genie.common.external.dtos.v4">Application</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getApplicationsForCommand(java.lang.String)">getApplicationsForCommand</a></span>&#8203;(java.lang.String&nbsp;id)</code></th>
<td class="colLast">
<div class="block">Get the applications for a given command.</div>
</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code><a href="../../../../../common/external/dtos/v4/Cluster.html" title="class in com.netflix.genie.common.external.dtos.v4">Cluster</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getCluster(java.lang.String)">getCluster</a></span>&#8203;(@NotBlank java.lang.String&nbsp;id)</code></th>
<td class="colLast">
<div class="block">Get the <a href="../../../../../common/external/dtos/v4/Cluster.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Cluster</code></a> identified by the given id.</div>
</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../../../common/external/dtos/v4/Criterion.html" title="class in com.netflix.genie.common.external.dtos.v4">Criterion</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getClusterCriteriaForCommand(java.lang.String)">getClusterCriteriaForCommand</a></span>&#8203;(java.lang.String&nbsp;id)</code></th>
<td class="colLast">
<div class="block">For the given command id return the Cluster <a href="../../../../../common/external/dtos/v4/Criterion.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Criterion</code></a> in priority order that is currently
 associated with this command if any.</div>
</td>
</tr>
<tr id="i32" class="altColor">
<td class="colFirst"><code>java.util.Set&lt;<a href="../../../../../common/external/dtos/v4/Cluster.html" title="class in com.netflix.genie.common.external.dtos.v4">Cluster</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getClustersForCommand(java.lang.String,java.util.Set)">getClustersForCommand</a></span>&#8203;(@NotBlank java.lang.String&nbsp;id,
                     java.util.Set&lt;<a href="../../../../../common/external/dtos/v4/ClusterStatus.html" title="enum in com.netflix.genie.common.external.dtos.v4">ClusterStatus</a>&gt;&nbsp;statuses)</code></th>
<td class="colLast">
<div class="block">Get all the clusters the command with given id is associated with.</div>
</td>
</tr>
<tr id="i33" class="rowColor">
<td class="colFirst"><code><a href="../../../../../common/external/dtos/v4/Command.html" title="class in com.netflix.genie.common.external.dtos.v4">Command</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getCommand(java.lang.String)">getCommand</a></span>&#8203;(@NotBlank java.lang.String&nbsp;id)</code></th>
<td class="colLast">
<div class="block">Get the metadata for the <a href="../../../../../common/external/dtos/v4/Command.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Command</code></a> identified by the id.</div>
</td>
</tr>
<tr id="i34" class="altColor">
<td class="colFirst"><code>java.util.Set&lt;<a href="../../../../../common/external/dtos/v4/Command.html" title="class in com.netflix.genie.common.external.dtos.v4">Command</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getCommandsForApplication(java.lang.String,java.util.Set)">getCommandsForApplication</a></span>&#8203;(@NotBlank java.lang.String&nbsp;id,
                         java.util.Set&lt;<a href="../../../../../common/external/dtos/v4/CommandStatus.html" title="enum in com.netflix.genie.common.external.dtos.v4">CommandStatus</a>&gt;&nbsp;statuses)</code></th>
<td class="colLast">
<div class="block">Get all the commands the application with given id is associated with.</div>
</td>
</tr>
<tr id="i35" class="rowColor">
<td class="colFirst"><code>&lt;R extends <a href="../../../../../common/external/dtos/v4/CommonResource.html" title="class in com.netflix.genie.common.external.dtos.v4">CommonResource</a>&gt;<br>java.util.Set&lt;java.lang.String&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getConfigsForResource(java.lang.String,java.lang.Class)">getConfigsForResource</a></span>&#8203;(@NotBlank java.lang.String&nbsp;id,
                     java.lang.Class&lt;R&gt;&nbsp;resourceClass)</code></th>
<td class="colLast">
<div class="block">Get the set of configuration files associated with the resource with the given id.</div>
</td>
</tr>
<tr id="i36" class="altColor">
<td class="colFirst"><code>&lt;R extends <a href="../../../../../common/external/dtos/v4/CommonResource.html" title="class in com.netflix.genie.common.external.dtos.v4">CommonResource</a>&gt;<br>java.util.Set&lt;java.lang.String&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getDependenciesForResource(java.lang.String,java.lang.Class)">getDependenciesForResource</a></span>&#8203;(@NotBlank java.lang.String&nbsp;id,
                          java.lang.Class&lt;R&gt;&nbsp;resourceClass)</code></th>
<td class="colLast">
<div class="block">Get the set of dependency files associated with the resource with the given id.</div>
</td>
</tr>
<tr id="i37" class="rowColor">
<td class="colFirst"><code><a href="../../../../../common/internal/dtos/v4/FinishedJob.html" title="class in com.netflix.genie.common.internal.dtos.v4">FinishedJob</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getFinishedJob(java.lang.String)">getFinishedJob</a></span>&#8203;(@NotBlank java.lang.String&nbsp;id)</code></th>
<td class="colLast">
<div class="block">Get a DTO representing a finished job.</div>
</td>
</tr>
<tr id="i38" class="altColor">
<td class="colFirst"><code><a href="queries/aggregates/JobInfoAggregate.html" title="interface in com.netflix.genie.web.data.services.impl.jpa.queries.aggregates">JobInfoAggregate</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getHostJobInformation(java.lang.String)">getHostJobInformation</a></span>&#8203;(@NotBlank java.lang.String&nbsp;hostname)</code></th>
<td class="colLast">
<div class="block">Get all the aggregate metadata information about jobs running on a given hostname.</div>
</td>
</tr>
<tr id="i39" class="rowColor">
<td class="colFirst"><code><a href="../../../../../common/dto/Job.html" title="class in com.netflix.genie.common.dto">Job</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getJob(java.lang.String)">getJob</a></span>&#8203;(@NotBlank java.lang.String&nbsp;id)</code></th>
<td class="colLast">
<div class="block">Get job information for given job id.</div>
</td>
</tr>
<tr id="i40" class="altColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../../../common/external/dtos/v4/Application.html" title="class in com.netflix.genie.common.external.dtos.v4">Application</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getJobApplications(java.lang.String)">getJobApplications</a></span>&#8203;(@NotBlank java.lang.String&nbsp;id)</code></th>
<td class="colLast">
<div class="block">Get the applications the job used or is currently using.</div>
</td>
</tr>
<tr id="i41" class="rowColor">
<td class="colFirst"><code>java.util.Optional&lt;java.lang.String&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getJobArchiveLocation(java.lang.String)">getJobArchiveLocation</a></span>&#8203;(@NotBlank java.lang.String&nbsp;id)</code></th>
<td class="colLast">
<div class="block">Get the location a job directory was archived to if at all.</div>
</td>
</tr>
<tr id="i42" class="altColor">
<td class="colFirst"><code><a href="../../../../../common/external/dtos/v4/ArchiveStatus.html" title="enum in com.netflix.genie.common.external.dtos.v4">ArchiveStatus</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getJobArchiveStatus(java.lang.String)">getJobArchiveStatus</a></span>&#8203;(@NotBlank java.lang.String&nbsp;id)</code></th>
<td class="colLast">
<div class="block">Get the archive status for a job with the given <code>id</code>.</div>
</td>
</tr>
<tr id="i43" class="rowColor">
<td class="colFirst"><code><a href="../../../../../common/external/dtos/v4/Cluster.html" title="class in com.netflix.genie.common.external.dtos.v4">Cluster</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getJobCluster(java.lang.String)">getJobCluster</a></span>&#8203;(@NotBlank java.lang.String&nbsp;id)</code></th>
<td class="colLast">
<div class="block">Get the cluster the job used or is using.</div>
</td>
</tr>
<tr id="i44" class="altColor">
<td class="colFirst"><code><a href="../../../../../common/external/dtos/v4/Command.html" title="class in com.netflix.genie.common.external.dtos.v4">Command</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getJobCommand(java.lang.String)">getJobCommand</a></span>&#8203;(@NotBlank java.lang.String&nbsp;id)</code></th>
<td class="colLast">
<div class="block">Get the command the job used or is using.</div>
</td>
</tr>
<tr id="i45" class="rowColor">
<td class="colFirst"><code><a href="../../../../../common/dto/JobExecution.html" title="class in com.netflix.genie.common.dto">JobExecution</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getJobExecution(java.lang.String)">getJobExecution</a></span>&#8203;(@NotBlank java.lang.String&nbsp;id)</code></th>
<td class="colLast">
<div class="block">Get job execution for given job id.</div>
</td>
</tr>
<tr id="i46" class="altColor">
<td class="colFirst"><code><a href="../../../../../common/dto/JobMetadata.html" title="class in com.netflix.genie.common.dto">JobMetadata</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getJobMetadata(java.lang.String)">getJobMetadata</a></span>&#8203;(@NotBlank java.lang.String&nbsp;id)</code></th>
<td class="colLast">
<div class="block">Get the metadata about a job.</div>
</td>
</tr>
<tr id="i47" class="rowColor">
<td class="colFirst"><code><a href="../../../../../common/external/dtos/v4/JobRequest.html" title="class in com.netflix.genie.common.external.dtos.v4">JobRequest</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getJobRequest(java.lang.String)">getJobRequest</a></span>&#8203;(@NotBlank java.lang.String&nbsp;id)</code></th>
<td class="colLast">
<div class="block">Get the original request for a job.</div>
</td>
</tr>
<tr id="i48" class="altColor">
<td class="colFirst"><code>java.util.Optional&lt;<a href="../../../../../common/external/dtos/v4/JobSpecification.html" title="class in com.netflix.genie.common.external.dtos.v4">JobSpecification</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getJobSpecification(java.lang.String)">getJobSpecification</a></span>&#8203;(@NotBlank java.lang.String&nbsp;id)</code></th>
<td class="colLast">
<div class="block">Get the saved job specification for the given job.</div>
</td>
</tr>
<tr id="i49" class="rowColor">
<td class="colFirst"><code><a href="../../../../../common/external/dtos/v4/JobStatus.html" title="enum in com.netflix.genie.common.external.dtos.v4">JobStatus</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getJobStatus(java.lang.String)">getJobStatus</a></span>&#8203;(@NotBlank java.lang.String&nbsp;id)</code></th>
<td class="colLast">
<div class="block">Get the status for a job with the given <code>id</code>.</div>
</td>
</tr>
<tr id="i50" class="altColor">
<td class="colFirst"><code>java.util.Set&lt;java.lang.String&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getJobsWithStatusAndArchiveStatusUpdatedBefore(java.util.Set,java.util.Set,java.time.Instant)">getJobsWithStatusAndArchiveStatusUpdatedBefore</a></span>&#8203;(@NotEmpty java.util.Set&lt;<a href="../../../../../common/external/dtos/v4/JobStatus.html" title="enum in com.netflix.genie.common.external.dtos.v4">JobStatus</a>&gt;&nbsp;statuses,
                                              @NotEmpty java.util.Set&lt;<a href="../../../../../common/external/dtos/v4/ArchiveStatus.html" title="enum in com.netflix.genie.common.external.dtos.v4">ArchiveStatus</a>&gt;&nbsp;archiveStatuses,
                                              @NotNull java.time.Instant&nbsp;updated)</code></th>
<td class="colLast">
<div class="block">Get the set of jobs (agent only) whose state is in <code>statuses</code> and archive status is in
 <code>archiveStatuses</code> and last updated before <code>updated</code>.</div>
</td>
</tr>
<tr id="i51" class="rowColor">
<td class="colFirst"><code>com.fasterxml.jackson.databind.JsonNode</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getLauncherExt(java.lang.String)">getLauncherExt</a></span>&#8203;(@NotBlank java.lang.String&nbsp;id)</code></th>
<td class="colLast">
<div class="block">Get the job requested launcher extension.</div>
</td>
</tr>
<tr id="i52" class="altColor">
<td class="colFirst"><code>com.fasterxml.jackson.databind.JsonNode</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getRequestedLauncherExt(java.lang.String)">getRequestedLauncherExt</a></span>&#8203;(@NotBlank java.lang.String&nbsp;id)</code></th>
<td class="colLast">
<div class="block">Get the command the job used or is using.</div>
</td>
</tr>
<tr id="i53" class="rowColor">
<td class="colFirst"><code>&lt;R extends <a href="../../../../../common/external/dtos/v4/CommonResource.html" title="class in com.netflix.genie.common.external.dtos.v4">CommonResource</a>&gt;<br>java.util.Set&lt;java.lang.String&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getTagsForResource(java.lang.String,java.lang.Class)">getTagsForResource</a></span>&#8203;(@NotBlank java.lang.String&nbsp;id,
                  java.lang.Class&lt;R&gt;&nbsp;resourceClass)</code></th>
<td class="colLast">
<div class="block">Get the set of tags associated with the resource with the given id.</div>
</td>
</tr>
<tr id="i54" class="altColor">
<td class="colFirst"><code>java.util.Set&lt;java.lang.String&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getUnclaimedJobs()">getUnclaimedJobs</a></span>()</code></th>
<td class="colLast">
<div class="block">Get the set of jobs in that have not reached CLAIMED state.</div>
</td>
</tr>
<tr id="i55" class="rowColor">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getUsedMemoryOnHost(java.lang.String)">getUsedMemoryOnHost</a></span>&#8203;(@NotBlank java.lang.String&nbsp;hostname)</code></th>
<td class="colLast">
<div class="block">Get the amount of memory currently used on the given host by Genie jobs in any of the following states.</div>
</td>
</tr>
<tr id="i56" class="altColor">
<td class="colFirst"><code>java.util.Map&lt;java.lang.String,&#8203;<a href="../../../../../common/dto/UserResourcesSummary.html" title="class in com.netflix.genie.common.dto">UserResourcesSummary</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getUserResourcesSummaries(java.util.Set,boolean)">getUserResourcesSummaries</a></span>&#8203;(java.util.Set&lt;<a href="../../../../../common/external/dtos/v4/JobStatus.html" title="enum in com.netflix.genie.common.external.dtos.v4">JobStatus</a>&gt;&nbsp;statuses,
                         boolean&nbsp;api)</code></th>
<td class="colLast">
<div class="block">Get a map of summaries of resources usage for each user with at least one active job.</div>
</td>
</tr>
<tr id="i57" class="rowColor">
<td class="colFirst"><code><a href="../../../../../common/dto/JobRequest.html" title="class in com.netflix.genie.common.dto">JobRequest</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getV3JobRequest(java.lang.String)">getV3JobRequest</a></span>&#8203;(@NotBlank java.lang.String&nbsp;id)</code></th>
<td class="colLast">
<div class="block"><span class="deprecatedLabel">Deprecated.</span></div>
</td>
</tr>
<tr id="i58" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isApiJob(java.lang.String)">isApiJob</a></span>&#8203;(@NotBlank java.lang.String&nbsp;id)</code></th>
<td class="colLast">
<div class="block">Get whether the job with the given ID was submitted via the REST API or other mechanism.</div>
</td>
</tr>
<tr id="i59" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#removeAllClusterCriteriaForCommand(java.lang.String)">removeAllClusterCriteriaForCommand</a></span>&#8203;(java.lang.String&nbsp;id)</code></th>
<td class="colLast">
<div class="block">Remove all the <a href="../../../../../common/external/dtos/v4/Criterion.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Criterion</code></a> currently associated with the command identified by id.</div>
</td>
</tr>
<tr id="i60" class="altColor">
<td class="colFirst"><code>&lt;R extends <a href="../../../../../common/external/dtos/v4/CommonResource.html" title="class in com.netflix.genie.common.external.dtos.v4">CommonResource</a>&gt;<br>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#removeAllConfigsForResource(java.lang.String,java.lang.Class)">removeAllConfigsForResource</a></span>&#8203;(@NotBlank java.lang.String&nbsp;id,
                           java.lang.Class&lt;R&gt;&nbsp;resourceClass)</code></th>
<td class="colLast">
<div class="block">Remove all configuration files from the resource.</div>
</td>
</tr>
<tr id="i61" class="rowColor">
<td class="colFirst"><code>&lt;R extends <a href="../../../../../common/external/dtos/v4/CommonResource.html" title="class in com.netflix.genie.common.external.dtos.v4">CommonResource</a>&gt;<br>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#removeAllDependenciesForResource(java.lang.String,java.lang.Class)">removeAllDependenciesForResource</a></span>&#8203;(@NotBlank java.lang.String&nbsp;id,
                                java.lang.Class&lt;R&gt;&nbsp;resourceClass)</code></th>
<td class="colLast">
<div class="block">Remove all dependency files from the resource.</div>
</td>
</tr>
<tr id="i62" class="altColor">
<td class="colFirst"><code>&lt;R extends <a href="../../../../../common/external/dtos/v4/CommonResource.html" title="class in com.netflix.genie.common.external.dtos.v4">CommonResource</a>&gt;<br>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#removeAllTagsForResource(java.lang.String,java.lang.Class)">removeAllTagsForResource</a></span>&#8203;(@NotBlank java.lang.String&nbsp;id,
                        java.lang.Class&lt;R&gt;&nbsp;resourceClass)</code></th>
<td class="colLast">
<div class="block">Remove all tags from the resource.</div>
</td>
</tr>
<tr id="i63" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#removeApplicationForCommand(java.lang.String,java.lang.String)">removeApplicationForCommand</a></span>&#8203;(@NotBlank java.lang.String&nbsp;id,
                           @NotBlank java.lang.String&nbsp;appId)</code></th>
<td class="colLast">
<div class="block">Remove the application from the command.</div>
</td>
</tr>
<tr id="i64" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#removeApplicationsForCommand(java.lang.String)">removeApplicationsForCommand</a></span>&#8203;(@NotBlank java.lang.String&nbsp;id)</code></th>
<td class="colLast">
<div class="block">Remove all the applications from the command.</div>
</td>
</tr>
<tr id="i65" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#removeClusterCriterionForCommand(java.lang.String,@javax.validation.constraints.Min(0L)int)">removeClusterCriterionForCommand</a></span>&#8203;(java.lang.String&nbsp;id,
                                @javax.validation.constraints.Min(0L) int&nbsp;priority)</code></th>
<td class="colLast">
<div class="block">Remove the <a href="../../../../../common/external/dtos/v4/Criterion.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Criterion</code></a> with the given priority from the current list of cluster criteria
 associated with the command identified by id.</div>
</td>
</tr>
<tr id="i66" class="altColor">
<td class="colFirst"><code>&lt;R extends <a href="../../../../../common/external/dtos/v4/CommonResource.html" title="class in com.netflix.genie.common.external.dtos.v4">CommonResource</a>&gt;<br>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#removeConfigForResource(java.lang.String,java.lang.String,java.lang.Class)">removeConfigForResource</a></span>&#8203;(@NotBlank java.lang.String&nbsp;id,
                       @NotBlank java.lang.String&nbsp;config,
                       java.lang.Class&lt;R&gt;&nbsp;resourceClass)</code></th>
<td class="colLast">
<div class="block">Remove a configuration file from the given resource.</div>
</td>
</tr>
<tr id="i67" class="rowColor">
<td class="colFirst"><code>&lt;R extends <a href="../../../../../common/external/dtos/v4/CommonResource.html" title="class in com.netflix.genie.common.external.dtos.v4">CommonResource</a>&gt;<br>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#removeDependencyForResource(java.lang.String,java.lang.String,java.lang.Class)">removeDependencyForResource</a></span>&#8203;(@NotBlank java.lang.String&nbsp;id,
                           @NotBlank java.lang.String&nbsp;dependency,
                           java.lang.Class&lt;R&gt;&nbsp;resourceClass)</code></th>
<td class="colLast">
<div class="block">Remove a dependency file from the given resource.</div>
</td>
</tr>
<tr id="i68" class="altColor">
<td class="colFirst"><code>&lt;R extends <a href="../../../../../common/external/dtos/v4/CommonResource.html" title="class in com.netflix.genie.common.external.dtos.v4">CommonResource</a>&gt;<br>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#removeTagForResource(java.lang.String,java.lang.String,java.lang.Class)">removeTagForResource</a></span>&#8203;(@NotBlank java.lang.String&nbsp;id,
                    @NotBlank java.lang.String&nbsp;tag,
                    java.lang.Class&lt;R&gt;&nbsp;resourceClass)</code></th>
<td class="colLast">
<div class="block">Remove a tag from the given resource.</div>
</td>
</tr>
<tr id="i69" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#saveApplication(com.netflix.genie.common.external.dtos.v4.ApplicationRequest)">saveApplication</a></span>&#8203;(@Valid <a href="../../../../../common/external/dtos/v4/ApplicationRequest.html" title="class in com.netflix.genie.common.external.dtos.v4">ApplicationRequest</a>&nbsp;applicationRequest)</code></th>
<td class="colLast">
<div class="block">Save a new application.</div>
</td>
</tr>
<tr id="i70" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#saveCluster(com.netflix.genie.common.external.dtos.v4.ClusterRequest)">saveCluster</a></span>&#8203;(@Valid <a href="../../../../../common/external/dtos/v4/ClusterRequest.html" title="class in com.netflix.genie.common.external.dtos.v4">ClusterRequest</a>&nbsp;clusterRequest)</code></th>
<td class="colLast">
<div class="block">Save a <a href="../../../../../common/external/dtos/v4/Cluster.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Cluster</code></a>.</div>
</td>
</tr>
<tr id="i71" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#saveCommand(com.netflix.genie.common.external.dtos.v4.CommandRequest)">saveCommand</a></span>&#8203;(@Valid <a href="../../../../../common/external/dtos/v4/CommandRequest.html" title="class in com.netflix.genie.common.external.dtos.v4">CommandRequest</a>&nbsp;commandRequest)</code></th>
<td class="colLast">
<div class="block">Save a <a href="../../../../../common/external/dtos/v4/Command.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Command</code></a> in the system based on the given <a href="../../../../../common/external/dtos/v4/CommandRequest.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>CommandRequest</code></a>.</div>
</td>
</tr>
<tr id="i72" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#saveJobSubmission(com.netflix.genie.web.dtos.JobSubmission)">saveJobSubmission</a></span>&#8203;(@Valid <a href="../../../../dtos/JobSubmission.html" title="class in com.netflix.genie.web.dtos">JobSubmission</a>&nbsp;jobSubmission)</code></th>
<td class="colLast">
<div class="block">Save the given job submission information in the underlying data store.</div>
</td>
</tr>
<tr id="i73" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#saveResolvedJob(java.lang.String,com.netflix.genie.web.dtos.ResolvedJob)">saveResolvedJob</a></span>&#8203;(@NotBlank java.lang.String&nbsp;id,
               @Valid <a href="../../../../dtos/ResolvedJob.html" title="class in com.netflix.genie.web.dtos">ResolvedJob</a>&nbsp;resolvedJob)</code></th>
<td class="colLast">
<div class="block">Save the given resolved details for a job.</div>
</td>
</tr>
<tr id="i74" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setApplicationsForCommand(java.lang.String,java.util.List)">setApplicationsForCommand</a></span>&#8203;(@NotBlank java.lang.String&nbsp;id,
                         @NotNull java.util.List&lt;@NotBlank java.lang.String&gt;&nbsp;applicationIds)</code></th>
<td class="colLast">
<div class="block">Set the applications for the command.</div>
</td>
</tr>
<tr id="i75" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setClusterCriteriaForCommand(java.lang.String,java.util.List)">setClusterCriteriaForCommand</a></span>&#8203;(java.lang.String&nbsp;id,
                            java.util.List&lt;@Valid <a href="../../../../../common/external/dtos/v4/Criterion.html" title="class in com.netflix.genie.common.external.dtos.v4">Criterion</a>&gt;&nbsp;clusterCriteria)</code></th>
<td class="colLast">
<div class="block">For the command identified by id reset the entire list of cluster criteria to match the contents of
 clusterCriteria.</div>
</td>
</tr>
<tr id="i76" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#updateApplication(java.lang.String,com.netflix.genie.common.external.dtos.v4.Application)">updateApplication</a></span>&#8203;(@NotBlank java.lang.String&nbsp;id,
                 @Valid <a href="../../../../../common/external/dtos/v4/Application.html" title="class in com.netflix.genie.common.external.dtos.v4">Application</a>&nbsp;updateApp)</code></th>
<td class="colLast">
<div class="block">Update an <a href="../../../../../common/external/dtos/v4/Application.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Application</code></a>.</div>
</td>
</tr>
<tr id="i77" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#updateCluster(java.lang.String,com.netflix.genie.common.external.dtos.v4.Cluster)">updateCluster</a></span>&#8203;(@NotBlank java.lang.String&nbsp;id,
             @Valid <a href="../../../../../common/external/dtos/v4/Cluster.html" title="class in com.netflix.genie.common.external.dtos.v4">Cluster</a>&nbsp;updateCluster)</code></th>
<td class="colLast">
<div class="block">Update a <a href="../../../../../common/external/dtos/v4/Cluster.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Cluster</code></a> with the given information.</div>
</td>
</tr>
<tr id="i78" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#updateCommand(java.lang.String,com.netflix.genie.common.external.dtos.v4.Command)">updateCommand</a></span>&#8203;(@NotBlank java.lang.String&nbsp;id,
             @Valid <a href="../../../../../common/external/dtos/v4/Command.html" title="class in com.netflix.genie.common.external.dtos.v4">Command</a>&nbsp;updateCommand)</code></th>
<td class="colLast">
<div class="block">Update a <a href="../../../../../common/external/dtos/v4/Command.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Command</code></a>.</div>
</td>
</tr>
<tr id="i79" class="rowColor">
<td class="colFirst"><code>&lt;R extends <a href="../../../../../common/external/dtos/v4/CommonResource.html" title="class in com.netflix.genie.common.external.dtos.v4">CommonResource</a>&gt;<br>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#updateConfigsForResource(java.lang.String,java.util.Set,java.lang.Class)">updateConfigsForResource</a></span>&#8203;(@NotBlank java.lang.String&nbsp;id,
                        java.util.Set&lt;@Size(max=1024) java.lang.String&gt;&nbsp;configs,
                        java.lang.Class&lt;R&gt;&nbsp;resourceClass)</code></th>
<td class="colLast">
<div class="block">Update the set of configuration files associated with the resource with the given id.</div>
</td>
</tr>
<tr id="i80" class="altColor">
<td class="colFirst"><code>&lt;R extends <a href="../../../../../common/external/dtos/v4/CommonResource.html" title="class in com.netflix.genie.common.external.dtos.v4">CommonResource</a>&gt;<br>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#updateDependenciesForResource(java.lang.String,java.util.Set,java.lang.Class)">updateDependenciesForResource</a></span>&#8203;(@NotBlank java.lang.String&nbsp;id,
                             java.util.Set&lt;@Size(max=1024) java.lang.String&gt;&nbsp;dependencies,
                             java.lang.Class&lt;R&gt;&nbsp;resourceClass)</code></th>
<td class="colLast">
<div class="block">Update the set of dependency files associated with the resource with the given id.</div>
</td>
</tr>
<tr id="i81" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#updateJobArchiveStatus(java.lang.String,com.netflix.genie.common.external.dtos.v4.ArchiveStatus)">updateJobArchiveStatus</a></span>&#8203;(@NotBlank(message="No job id entered. Unable to update.") java.lang.String&nbsp;id,
                      @NotNull(message="Status cannot be null.") <a href="../../../../../common/external/dtos/v4/ArchiveStatus.html" title="enum in com.netflix.genie.common.external.dtos.v4">ArchiveStatus</a>&nbsp;archiveStatus)</code></th>
<td class="colLast">
<div class="block">Update the status and status message of the job.</div>
</td>
</tr>
<tr id="i82" class="altColor">
<td class="colFirst"><code><a href="../../../../../common/external/dtos/v4/JobStatus.html" title="enum in com.netflix.genie.common.external.dtos.v4">JobStatus</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#updateJobStatus(java.lang.String,com.netflix.genie.common.external.dtos.v4.JobStatus,com.netflix.genie.common.external.dtos.v4.JobStatus,java.lang.String)">updateJobStatus</a></span>&#8203;(@NotBlank java.lang.String&nbsp;id,
               @NotNull <a href="../../../../../common/external/dtos/v4/JobStatus.html" title="enum in com.netflix.genie.common.external.dtos.v4">JobStatus</a>&nbsp;currentStatus,
               @NotNull <a href="../../../../../common/external/dtos/v4/JobStatus.html" title="enum in com.netflix.genie.common.external.dtos.v4">JobStatus</a>&nbsp;newStatus,
               java.lang.String&nbsp;newStatusMessage)</code></th>
<td class="colLast">
<div class="block">Update the status of the job identified with <code>id</code> to be <code>newStatus</code> provided that the current status
 of the job matches <code>newStatus</code>.</div>
</td>
</tr>
<tr id="i83" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#updateLauncherExt(java.lang.String,com.fasterxml.jackson.databind.JsonNode)">updateLauncherExt</a></span>&#8203;(@NotBlank(message="No job id entered. Unable to update.") java.lang.String&nbsp;id,
                 @NotNull(message="Status cannot be null.") com.fasterxml.jackson.databind.JsonNode&nbsp;launcherExtension)</code></th>
<td class="colLast">
<div class="block">Update the launcher extension field for this job.</div>
</td>
</tr>
<tr id="i84" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#updateRequestedLauncherExt(java.lang.String,com.fasterxml.jackson.databind.JsonNode)">updateRequestedLauncherExt</a></span>&#8203;(@NotBlank(message="No job id entered. Unable to update.") java.lang.String&nbsp;id,
                          @NotNull(message="Status cannot be null.") com.fasterxml.jackson.databind.JsonNode&nbsp;launcherExtension)</code></th>
<td class="colLast">
<div class="block">Update the requested launcher extension field for this job.</div>
</td>
</tr>
<tr id="i85" class="rowColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#updateStatusForUnusedCommands(com.netflix.genie.common.external.dtos.v4.CommandStatus,java.time.Instant,java.util.Set,int)">updateStatusForUnusedCommands</a></span>&#8203;(<a href="../../../../../common/external/dtos/v4/CommandStatus.html" title="enum in com.netflix.genie.common.external.dtos.v4">CommandStatus</a>&nbsp;desiredStatus,
                             java.time.Instant&nbsp;commandCreatedThreshold,
                             java.util.Set&lt;<a href="../../../../../common/external/dtos/v4/CommandStatus.html" title="enum in com.netflix.genie.common.external.dtos.v4">CommandStatus</a>&gt;&nbsp;currentStatuses,
                             int&nbsp;batchSize)</code></th>
<td class="colLast">
<div class="block">Update the status of a command to the desiredStatus if its status is in currentStatuses,
 it was created before commandCreatedThreshold and it hasn't been used in any job.</div>
</td>
</tr>
<tr id="i86" class="altColor">
<td class="colFirst"><code>&lt;R extends <a href="../../../../../common/external/dtos/v4/CommonResource.html" title="class in com.netflix.genie.common.external.dtos.v4">CommonResource</a>&gt;<br>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#updateTagsForResource(java.lang.String,java.util.Set,java.lang.Class)">updateTagsForResource</a></span>&#8203;(@NotBlank java.lang.String&nbsp;id,
                     java.util.Set&lt;@Size(max=255) java.lang.String&gt;&nbsp;tags,
                     java.lang.Class&lt;R&gt;&nbsp;resourceClass)</code></th>
<td class="colLast">
<div class="block">Update the set of tags associated with the resource with the given id.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;(javax.persistence.EntityManager,com.netflix.genie.web.data.services.impl.jpa.repositories.JpaRepositories,com.netflix.genie.common.internal.tracing.brave.BraveTracingComponents)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>JpaPersistenceServiceImpl</h4>
<pre>public&nbsp;JpaPersistenceServiceImpl&#8203;(javax.persistence.EntityManager&nbsp;entityManager,
                                 <a href="repositories/JpaRepositories.html" title="class in com.netflix.genie.web.data.services.impl.jpa.repositories">JpaRepositories</a>&nbsp;jpaRepositories,
                                 <a href="../../../../../common/internal/tracing/brave/BraveTracingComponents.html" title="class in com.netflix.genie.common.internal.tracing.brave">BraveTracingComponents</a>&nbsp;tracingComponents)</pre>
<div class="block">Constructor.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>entityManager</code> - The <code>EntityManager</code> to use</dd>
<dd><code>jpaRepositories</code> - All the repositories in the Genie application</dd>
<dd><code>tracingComponents</code> - All the Brave related tracing components needed to add metadata to Spans</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="saveApplication(com.netflix.genie.common.external.dtos.v4.ApplicationRequest)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>saveApplication</h4>
<pre class="methodSignature">public&nbsp;java.lang.String&nbsp;saveApplication&#8203;(@Valid
                                        @Valid <a href="../../../../../common/external/dtos/v4/ApplicationRequest.html" title="class in com.netflix.genie.common.external.dtos.v4">ApplicationRequest</a>&nbsp;applicationRequest)
                                 throws <a href="../../../../exceptions/checked/IdAlreadyExistsException.html" title="class in com.netflix.genie.web.exceptions.checked">IdAlreadyExistsException</a></pre>
<div class="block">Save a new application.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#saveApplication(com.netflix.genie.common.external.dtos.v4.ApplicationRequest)">saveApplication</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>applicationRequest</code> - The <a href="../../../../../common/external/dtos/v4/ApplicationRequest.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>ApplicationRequest</code></a> containing the metadata of the application to create</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The unique id of the application that was created</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../exceptions/checked/IdAlreadyExistsException.html" title="class in com.netflix.genie.web.exceptions.checked">IdAlreadyExistsException</a></code> - If the ID is already used by another application</dd>
</dl>
</li>
</ul>
<a id="getApplication(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getApplication</h4>
<pre class="methodSignature">public&nbsp;<a href="../../../../../common/external/dtos/v4/Application.html" title="class in com.netflix.genie.common.external.dtos.v4">Application</a>&nbsp;getApplication&#8203;(@NotBlank
                                  @NotBlank java.lang.String&nbsp;id)
                           throws <a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></pre>
<div class="block">Get the application metadata for given id.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#getApplication(java.lang.String)">getApplication</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - unique id for application configuration to get. Not null/empty.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The <a href="../../../../../common/external/dtos/v4/Application.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Application</code></a></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></code> - if no application with id exists</dd>
</dl>
</li>
</ul>
<a id="findApplications(java.lang.String,java.lang.String,java.util.Set,java.util.Set,java.lang.String,org.springframework.data.domain.Pageable)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findApplications</h4>
<pre class="methodSignature">@Transactional(readOnly=true)
public&nbsp;org.springframework.data.domain.Page&lt;<a href="../../../../../common/external/dtos/v4/Application.html" title="class in com.netflix.genie.common.external.dtos.v4">Application</a>&gt;&nbsp;findApplications&#8203;(@Nullable
                                                                          java.lang.String&nbsp;name,
                                                                          @Nullable
                                                                          java.lang.String&nbsp;user,
                                                                          @Nullable
                                                                          java.util.Set&lt;<a href="../../../../../common/external/dtos/v4/ApplicationStatus.html" title="enum in com.netflix.genie.common.external.dtos.v4">ApplicationStatus</a>&gt;&nbsp;statuses,
                                                                          @Nullable
                                                                          java.util.Set&lt;java.lang.String&gt;&nbsp;tags,
                                                                          @Nullable
                                                                          java.lang.String&nbsp;type,
                                                                          org.springframework.data.domain.Pageable&nbsp;page)</pre>
<div class="block">Find applications which match the given filter criteria.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#findApplications(java.lang.String,java.lang.String,java.util.Set,java.util.Set,java.lang.String,org.springframework.data.domain.Pageable)">findApplications</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>name</code> - Name of the application. Can be null or empty.</dd>
<dd><code>user</code> - The user who created the application. Can be null/empty</dd>
<dd><code>statuses</code> - The statuses of the applications to find. Can be null.</dd>
<dd><code>tags</code> - Tags allocated to this application</dd>
<dd><code>type</code> - The type of the application to find</dd>
<dd><code>page</code> - The page requested for the search results</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The page of found applications</dd>
</dl>
</li>
</ul>
<a id="updateApplication(java.lang.String,com.netflix.genie.common.external.dtos.v4.Application)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateApplication</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;updateApplication&#8203;(@NotBlank
                              @NotBlank java.lang.String&nbsp;id,
                              @Valid
                              @Valid <a href="../../../../../common/external/dtos/v4/Application.html" title="class in com.netflix.genie.common.external.dtos.v4">Application</a>&nbsp;updateApp)
                       throws <a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a>,
                              <a href="../../../../exceptions/checked/PreconditionFailedException.html" title="class in com.netflix.genie.web.exceptions.checked">PreconditionFailedException</a></pre>
<div class="block">Update an <a href="../../../../../common/external/dtos/v4/Application.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Application</code></a>.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#updateApplication(java.lang.String,com.netflix.genie.common.external.dtos.v4.Application)">updateApplication</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - The id of the application to update</dd>
<dd><code>updateApp</code> - Information to update for the application configuration with</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></code> - If no <a href="../../../../../common/external/dtos/v4/Application.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Application</code></a> with id exists</dd>
<dd><code><a href="../../../../exceptions/checked/PreconditionFailedException.html" title="class in com.netflix.genie.web.exceptions.checked">PreconditionFailedException</a></code> - If id and updateApp id don't match</dd>
</dl>
</li>
</ul>
<a id="deleteAllApplications()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteAllApplications</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;deleteAllApplications()
                           throws <a href="../../../../exceptions/checked/PreconditionFailedException.html" title="class in com.netflix.genie.web.exceptions.checked">PreconditionFailedException</a></pre>
<div class="block">Delete all applications from the system.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#deleteAllApplications()">deleteAllApplications</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../exceptions/checked/PreconditionFailedException.html" title="class in com.netflix.genie.web.exceptions.checked">PreconditionFailedException</a></code> - When any <a href="../../../../../common/external/dtos/v4/Application.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Application</code></a> is still associated with a command</dd>
</dl>
</li>
</ul>
<a id="deleteApplication(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteApplication</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;deleteApplication&#8203;(@NotBlank
                              @NotBlank java.lang.String&nbsp;id)
                       throws <a href="../../../../exceptions/checked/PreconditionFailedException.html" title="class in com.netflix.genie.web.exceptions.checked">PreconditionFailedException</a></pre>
<div class="block">Delete an <a href="../../../../../common/external/dtos/v4/Application.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Application</code></a> from the system.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#deleteApplication(java.lang.String)">deleteApplication</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - unique id of the application to delete</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../exceptions/checked/PreconditionFailedException.html" title="class in com.netflix.genie.web.exceptions.checked">PreconditionFailedException</a></code> - When the <a href="../../../../../common/external/dtos/v4/Application.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Application</code></a> is still used by any command</dd>
</dl>
</li>
</ul>
<a id="getCommandsForApplication(java.lang.String,java.util.Set)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCommandsForApplication</h4>
<pre class="methodSignature">public&nbsp;java.util.Set&lt;<a href="../../../../../common/external/dtos/v4/Command.html" title="class in com.netflix.genie.common.external.dtos.v4">Command</a>&gt;&nbsp;getCommandsForApplication&#8203;(@NotBlank
                                                        @NotBlank java.lang.String&nbsp;id,
                                                        @Nullable
                                                        java.util.Set&lt;<a href="../../../../../common/external/dtos/v4/CommandStatus.html" title="enum in com.netflix.genie.common.external.dtos.v4">CommandStatus</a>&gt;&nbsp;statuses)
                                                 throws <a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></pre>
<div class="block">Get all the commands the application with given id is associated with.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#getCommandsForApplication(java.lang.String,java.util.Set)">getCommandsForApplication</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - The id of the application to get the commands for.</dd>
<dd><code>statuses</code> - The desired status(es) to filter the associated commands for</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The commands the application is used by</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></code> - If no <a href="../../../../../common/external/dtos/v4/Application.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Application</code></a> with id exists</dd>
</dl>
</li>
</ul>
<a id="deleteUnusedApplications(java.time.Instant,int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteUnusedApplications</h4>
<pre class="methodSignature">@Transactional(isolation=READ_COMMITTED)
public&nbsp;long&nbsp;deleteUnusedApplications&#8203;(java.time.Instant&nbsp;createdThreshold,
                                     int&nbsp;batchSize)</pre>
<div class="block">Delete any unused applications that were created before the given time.
 Unused means they aren't linked to any other resources in the Genie system like jobs or commands and therefore
 referential integrity is maintained.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#deleteUnusedApplications(java.time.Instant,@javax.validation.constraints.Min(1L)int)">deleteUnusedApplications</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>createdThreshold</code> - The instant in time that any application had to be created before (exclusive) to be
                         considered for deletion. Presents ability to filter out newly created applications if
                         desired.</dd>
<dd><code>batchSize</code> - The maximum number of applications to delete in a single transaction</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The number of successfully deleted applications</dd>
</dl>
</li>
</ul>
<a id="saveCluster(com.netflix.genie.common.external.dtos.v4.ClusterRequest)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>saveCluster</h4>
<pre class="methodSignature">public&nbsp;java.lang.String&nbsp;saveCluster&#8203;(@Valid
                                    @Valid <a href="../../../../../common/external/dtos/v4/ClusterRequest.html" title="class in com.netflix.genie.common.external.dtos.v4">ClusterRequest</a>&nbsp;clusterRequest)
                             throws <a href="../../../../exceptions/checked/IdAlreadyExistsException.html" title="class in com.netflix.genie.web.exceptions.checked">IdAlreadyExistsException</a></pre>
<div class="block">Save a <a href="../../../../../common/external/dtos/v4/Cluster.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Cluster</code></a>.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#saveCluster(com.netflix.genie.common.external.dtos.v4.ClusterRequest)">saveCluster</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>clusterRequest</code> - The cluster information to save</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The id of the saved cluster</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../exceptions/checked/IdAlreadyExistsException.html" title="class in com.netflix.genie.web.exceptions.checked">IdAlreadyExistsException</a></code> - If a <a href="../../../../../common/external/dtos/v4/Cluster.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Cluster</code></a> with the given id already exists</dd>
</dl>
</li>
</ul>
<a id="getCluster(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCluster</h4>
<pre class="methodSignature">public&nbsp;<a href="../../../../../common/external/dtos/v4/Cluster.html" title="class in com.netflix.genie.common.external.dtos.v4">Cluster</a>&nbsp;getCluster&#8203;(@NotBlank
                          @NotBlank java.lang.String&nbsp;id)
                   throws <a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></pre>
<div class="block">Get the <a href="../../../../../common/external/dtos/v4/Cluster.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Cluster</code></a> identified by the given id.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#getCluster(java.lang.String)">getCluster</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - unique id of the <a href="../../../../../common/external/dtos/v4/Cluster.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Cluster</code></a> to get</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The <a href="../../../../../common/external/dtos/v4/Cluster.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Cluster</code></a></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></code> - If no <a href="../../../../../common/external/dtos/v4/Cluster.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Cluster</code></a> with id exists</dd>
</dl>
</li>
</ul>
<a id="findClusters(java.lang.String,java.util.Set,java.util.Set,java.time.Instant,java.time.Instant,org.springframework.data.domain.Pageable)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findClusters</h4>
<pre class="methodSignature">@Transactional(readOnly=true)
public&nbsp;org.springframework.data.domain.Page&lt;<a href="../../../../../common/external/dtos/v4/Cluster.html" title="class in com.netflix.genie.common.external.dtos.v4">Cluster</a>&gt;&nbsp;findClusters&#8203;(@Nullable
                                                                  java.lang.String&nbsp;name,
                                                                  @Nullable
                                                                  java.util.Set&lt;<a href="../../../../../common/external/dtos/v4/ClusterStatus.html" title="enum in com.netflix.genie.common.external.dtos.v4">ClusterStatus</a>&gt;&nbsp;statuses,
                                                                  @Nullable
                                                                  java.util.Set&lt;java.lang.String&gt;&nbsp;tags,
                                                                  @Nullable
                                                                  java.time.Instant&nbsp;minUpdateTime,
                                                                  @Nullable
                                                                  java.time.Instant&nbsp;maxUpdateTime,
                                                                  org.springframework.data.domain.Pageable&nbsp;page)</pre>
<div class="block">Find and <a href="../../../../../common/external/dtos/v4/Cluster.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Cluster</code></a>s that match the given parameters. Null or empty parameters are ignored.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#findClusters(java.lang.String,java.util.Set,java.util.Set,java.time.Instant,java.time.Instant,org.springframework.data.domain.Pageable)">findClusters</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>name</code> - cluster name</dd>
<dd><code>statuses</code> - <a href="../../../../../common/external/dtos/v4/ClusterStatus.html" title="enum in com.netflix.genie.common.external.dtos.v4"><code>ClusterStatus</code></a> that clusters must be in to be matched</dd>
<dd><code>tags</code> - tags attached to this cluster</dd>
<dd><code>minUpdateTime</code> - min time when cluster was updated</dd>
<dd><code>maxUpdateTime</code> - max time when cluster was updated</dd>
<dd><code>page</code> - The page to get</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>All the clusters matching the criteria</dd>
</dl>
</li>
</ul>
<a id="updateCluster(java.lang.String,com.netflix.genie.common.external.dtos.v4.Cluster)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateCluster</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;updateCluster&#8203;(@NotBlank
                          @NotBlank java.lang.String&nbsp;id,
                          @Valid
                          @Valid <a href="../../../../../common/external/dtos/v4/Cluster.html" title="class in com.netflix.genie.common.external.dtos.v4">Cluster</a>&nbsp;updateCluster)
                   throws <a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a>,
                          <a href="../../../../exceptions/checked/PreconditionFailedException.html" title="class in com.netflix.genie.web.exceptions.checked">PreconditionFailedException</a></pre>
<div class="block">Update a <a href="../../../../../common/external/dtos/v4/Cluster.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Cluster</code></a> with the given information.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#updateCluster(java.lang.String,com.netflix.genie.common.external.dtos.v4.Cluster)">updateCluster</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - The id of the cluster to update</dd>
<dd><code>updateCluster</code> - The information to update the cluster with</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></code> - If no <a href="../../../../../common/external/dtos/v4/Cluster.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Cluster</code></a> with id exists</dd>
<dd><code><a href="../../../../exceptions/checked/PreconditionFailedException.html" title="class in com.netflix.genie.web.exceptions.checked">PreconditionFailedException</a></code> - If the id doesn't match the updateCluster id</dd>
</dl>
</li>
</ul>
<a id="deleteAllClusters()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteAllClusters</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;deleteAllClusters()
                       throws <a href="../../../../exceptions/checked/PreconditionFailedException.html" title="class in com.netflix.genie.web.exceptions.checked">PreconditionFailedException</a></pre>
<div class="block">Delete all clusters from database.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#deleteAllClusters()">deleteAllClusters</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../exceptions/checked/PreconditionFailedException.html" title="class in com.netflix.genie.web.exceptions.checked">PreconditionFailedException</a></code> - If the cluster is still associated with any job</dd>
</dl>
</li>
</ul>
<a id="deleteCluster(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteCluster</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;deleteCluster&#8203;(@NotBlank
                          @NotBlank java.lang.String&nbsp;id)
                   throws <a href="../../../../exceptions/checked/PreconditionFailedException.html" title="class in com.netflix.genie.web.exceptions.checked">PreconditionFailedException</a></pre>
<div class="block">Delete a <a href="../../../../../common/external/dtos/v4/Cluster.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Cluster</code></a> by id.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#deleteCluster(java.lang.String)">deleteCluster</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - unique id of the cluster to delete</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../exceptions/checked/PreconditionFailedException.html" title="class in com.netflix.genie.web.exceptions.checked">PreconditionFailedException</a></code> - If the cluster is still associated with any job</dd>
</dl>
</li>
</ul>
<a id="deleteUnusedClusters(java.util.Set,java.time.Instant,int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteUnusedClusters</h4>
<pre class="methodSignature">@Transactional(isolation=READ_COMMITTED)
public&nbsp;long&nbsp;deleteUnusedClusters&#8203;(java.util.Set&lt;<a href="../../../../../common/external/dtos/v4/ClusterStatus.html" title="enum in com.netflix.genie.common.external.dtos.v4">ClusterStatus</a>&gt;&nbsp;deleteStatuses,
                                 java.time.Instant&nbsp;clusterCreatedThreshold,
                                 int&nbsp;batchSize)</pre>
<div class="block">Delete all clusters that are in one of the given states, aren't attached to any jobs and were created before
 the given time.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#deleteUnusedClusters(java.util.Set,java.time.Instant,@javax.validation.constraints.Min(1L)int)">deleteUnusedClusters</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>deleteStatuses</code> - The set of <a href="../../../../../common/external/dtos/v4/ClusterStatus.html" title="enum in com.netflix.genie.common.external.dtos.v4"><code>ClusterStatus</code></a> a cluster must be in to be considered for
                                deletion.</dd>
<dd><code>clusterCreatedThreshold</code> - The instant in time before which a cluster must have been created to be
                                considered for deletion. Exclusive.</dd>
<dd><code>batchSize</code> - The maximum number of clusters to delete in a single transaction</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The number of clusters deleted</dd>
</dl>
</li>
</ul>
<a id="findClustersMatchingCriterion(com.netflix.genie.common.external.dtos.v4.Criterion,boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findClustersMatchingCriterion</h4>
<pre class="methodSignature">public&nbsp;java.util.Set&lt;<a href="../../../../../common/external/dtos/v4/Cluster.html" title="class in com.netflix.genie.common.external.dtos.v4">Cluster</a>&gt;&nbsp;findClustersMatchingCriterion&#8203;(@Valid
                                                            @Valid <a href="../../../../../common/external/dtos/v4/Criterion.html" title="class in com.netflix.genie.common.external.dtos.v4">Criterion</a>&nbsp;criterion,
                                                            boolean&nbsp;addDefaultStatus)</pre>
<div class="block">Find all the <a href="../../../../../common/external/dtos/v4/Cluster.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Cluster</code></a>'s that match the given <a href="../../../../../common/external/dtos/v4/Criterion.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Criterion</code></a>.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#findClustersMatchingCriterion(com.netflix.genie.common.external.dtos.v4.Criterion,boolean)">findClustersMatchingCriterion</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>criterion</code> - The <a href="../../../../../common/external/dtos/v4/Criterion.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Criterion</code></a> supplied that each cluster needs to completely match to be returned</dd>
<dd><code>addDefaultStatus</code> - true if the a default status should be added to the supplied
                         <a href="../../../../../common/external/dtos/v4/Criterion.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Criterion</code></a> if the supplied criterion doesn't already have a status</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>All the <a href="../../../../../common/external/dtos/v4/Cluster.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Cluster</code></a>'s which matched the <a href="../../../../../common/external/dtos/v4/Criterion.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Criterion</code></a></dd>
</dl>
</li>
</ul>
<a id="findClustersMatchingAnyCriterion(java.util.Set,boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findClustersMatchingAnyCriterion</h4>
<pre class="methodSignature">public&nbsp;java.util.Set&lt;<a href="../../../../../common/external/dtos/v4/Cluster.html" title="class in com.netflix.genie.common.external.dtos.v4">Cluster</a>&gt;&nbsp;findClustersMatchingAnyCriterion&#8203;(@NotEmpty
                                                               @NotEmpty java.util.Set&lt;@Valid <a href="../../../../../common/external/dtos/v4/Criterion.html" title="class in com.netflix.genie.common.external.dtos.v4">Criterion</a>&gt;&nbsp;criteria,
                                                               boolean&nbsp;addDefaultStatus)</pre>
<div class="block">Find all the <a href="../../../../../common/external/dtos/v4/Cluster.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Cluster</code></a>'s that match any of the given <a href="../../../../../common/external/dtos/v4/Criterion.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Criterion</code></a>.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#findClustersMatchingAnyCriterion(java.util.Set,boolean)">findClustersMatchingAnyCriterion</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>criteria</code> - The set of <a href="../../../../../common/external/dtos/v4/Criterion.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Criterion</code></a> supplied that a cluster needs to completely match at least
                         one of to be returned</dd>
<dd><code>addDefaultStatus</code> - true if the a default status should be added to the supplied
                         <a href="../../../../../common/external/dtos/v4/Criterion.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Criterion</code></a> if the supplied criterion doesn't already have a status</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>All the <a href="../../../../../common/external/dtos/v4/Cluster.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Cluster</code></a>'s which matched the <a href="../../../../../common/external/dtos/v4/Criterion.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Criterion</code></a></dd>
</dl>
</li>
</ul>
<a id="saveCommand(com.netflix.genie.common.external.dtos.v4.CommandRequest)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>saveCommand</h4>
<pre class="methodSignature">public&nbsp;java.lang.String&nbsp;saveCommand&#8203;(@Valid
                                    @Valid <a href="../../../../../common/external/dtos/v4/CommandRequest.html" title="class in com.netflix.genie.common.external.dtos.v4">CommandRequest</a>&nbsp;commandRequest)
                             throws <a href="../../../../exceptions/checked/IdAlreadyExistsException.html" title="class in com.netflix.genie.web.exceptions.checked">IdAlreadyExistsException</a></pre>
<div class="block">Save a <a href="../../../../../common/external/dtos/v4/Command.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Command</code></a> in the system based on the given <a href="../../../../../common/external/dtos/v4/CommandRequest.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>CommandRequest</code></a>.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#saveCommand(com.netflix.genie.common.external.dtos.v4.CommandRequest)">saveCommand</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>commandRequest</code> - encapsulates the command configuration information to create</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The id of the command that was saved</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../exceptions/checked/IdAlreadyExistsException.html" title="class in com.netflix.genie.web.exceptions.checked">IdAlreadyExistsException</a></code> - If there was a conflict on the unique id for the command</dd>
</dl>
</li>
</ul>
<a id="getCommand(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCommand</h4>
<pre class="methodSignature">public&nbsp;<a href="../../../../../common/external/dtos/v4/Command.html" title="class in com.netflix.genie.common.external.dtos.v4">Command</a>&nbsp;getCommand&#8203;(@NotBlank
                          @NotBlank java.lang.String&nbsp;id)
                   throws <a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></pre>
<div class="block">Get the metadata for the <a href="../../../../../common/external/dtos/v4/Command.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Command</code></a> identified by the id.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#getCommand(java.lang.String)">getCommand</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - unique id for command to get. Not null/empty.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The command</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></code> - If no <a href="../../../../../common/external/dtos/v4/Command.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Command</code></a> exists with the given id</dd>
</dl>
</li>
</ul>
<a id="findCommands(java.lang.String,java.lang.String,java.util.Set,java.util.Set,org.springframework.data.domain.Pageable)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findCommands</h4>
<pre class="methodSignature">@Transactional(readOnly=true)
public&nbsp;org.springframework.data.domain.Page&lt;<a href="../../../../../common/external/dtos/v4/Command.html" title="class in com.netflix.genie.common.external.dtos.v4">Command</a>&gt;&nbsp;findCommands&#8203;(@Nullable
                                                                  java.lang.String&nbsp;name,
                                                                  @Nullable
                                                                  java.lang.String&nbsp;user,
                                                                  @Nullable
                                                                  java.util.Set&lt;<a href="../../../../../common/external/dtos/v4/CommandStatus.html" title="enum in com.netflix.genie.common.external.dtos.v4">CommandStatus</a>&gt;&nbsp;statuses,
                                                                  @Nullable
                                                                  java.util.Set&lt;java.lang.String&gt;&nbsp;tags,
                                                                  org.springframework.data.domain.Pageable&nbsp;page)</pre>
<div class="block">Find commands matching the given filter criteria.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#findCommands(java.lang.String,java.lang.String,java.util.Set,java.util.Set,org.springframework.data.domain.Pageable)">findCommands</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>name</code> - Name of command config</dd>
<dd><code>user</code> - The name of the user who created the configuration</dd>
<dd><code>statuses</code> - The status of the commands to get. Can be null.</dd>
<dd><code>tags</code> - tags allocated to this command</dd>
<dd><code>page</code> - The page of results to get</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>All the commands matching the specified criteria</dd>
</dl>
</li>
</ul>
<a id="updateCommand(java.lang.String,com.netflix.genie.common.external.dtos.v4.Command)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateCommand</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;updateCommand&#8203;(@NotBlank
                          @NotBlank java.lang.String&nbsp;id,
                          @Valid
                          @Valid <a href="../../../../../common/external/dtos/v4/Command.html" title="class in com.netflix.genie.common.external.dtos.v4">Command</a>&nbsp;updateCommand)
                   throws <a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a>,
                          <a href="../../../../exceptions/checked/PreconditionFailedException.html" title="class in com.netflix.genie.web.exceptions.checked">PreconditionFailedException</a></pre>
<div class="block">Update a <a href="../../../../../common/external/dtos/v4/Command.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Command</code></a>.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#updateCommand(java.lang.String,com.netflix.genie.common.external.dtos.v4.Command)">updateCommand</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - The id of the command configuration to update. Not null or empty.</dd>
<dd><code>updateCommand</code> - contains the information to update the command with</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></code> - If no <a href="../../../../../common/external/dtos/v4/Command.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Command</code></a> exists with the given id</dd>
<dd><code><a href="../../../../exceptions/checked/PreconditionFailedException.html" title="class in com.netflix.genie.web.exceptions.checked">PreconditionFailedException</a></code> - When the id doesn't match the id of updateCommand</dd>
</dl>
</li>
</ul>
<a id="deleteAllCommands()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteAllCommands</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;deleteAllCommands()
                       throws <a href="../../../../exceptions/checked/PreconditionFailedException.html" title="class in com.netflix.genie.web.exceptions.checked">PreconditionFailedException</a></pre>
<div class="block">Delete all commands from the system.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#deleteAllCommands()">deleteAllCommands</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../exceptions/checked/PreconditionFailedException.html" title="class in com.netflix.genie.web.exceptions.checked">PreconditionFailedException</a></code> - If any constraint is violated trying to delete a command</dd>
</dl>
</li>
</ul>
<a id="deleteCommand(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteCommand</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;deleteCommand&#8203;(@NotBlank
                          @NotBlank java.lang.String&nbsp;id)
                   throws <a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></pre>
<div class="block">Delete a <a href="../../../../../common/external/dtos/v4/Command.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Command</code></a> from system.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#deleteCommand(java.lang.String)">deleteCommand</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - unique if of the command to delete</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></code> - If no <a href="../../../../../common/external/dtos/v4/Command.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Command</code></a> exists with the given id</dd>
</dl>
</li>
</ul>
<a id="addApplicationsForCommand(java.lang.String,java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addApplicationsForCommand</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;addApplicationsForCommand&#8203;(@NotBlank
                                      @NotBlank java.lang.String&nbsp;id,
                                      @NotEmpty
                                      @NotEmpty java.util.List&lt;@NotBlank java.lang.String&gt;&nbsp;applicationIds)
                               throws <a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a>,
                                      <a href="../../../../exceptions/checked/PreconditionFailedException.html" title="class in com.netflix.genie.web.exceptions.checked">PreconditionFailedException</a></pre>
<div class="block">Add applications for the command.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#addApplicationsForCommand(java.lang.String,java.util.List)">addApplicationsForCommand</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - The id of the command to add the application file to. Not null/empty/blank.</dd>
<dd><code>applicationIds</code> - The ids of the applications to add. Not null.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></code> - If no <a href="../../../../../common/external/dtos/v4/Command.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Command</code></a> exists with the given id or one of the
                                     applications doesn't exist</dd>
<dd><code><a href="../../../../exceptions/checked/PreconditionFailedException.html" title="class in com.netflix.genie.web.exceptions.checked">PreconditionFailedException</a></code> - If an application with one of the ids is already associated with the command</dd>
</dl>
</li>
</ul>
<a id="setApplicationsForCommand(java.lang.String,java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setApplicationsForCommand</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setApplicationsForCommand&#8203;(@NotBlank
                                      @NotBlank java.lang.String&nbsp;id,
                                      @NotNull
                                      @NotNull java.util.List&lt;@NotBlank java.lang.String&gt;&nbsp;applicationIds)
                               throws <a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a>,
                                      <a href="../../../../exceptions/checked/PreconditionFailedException.html" title="class in com.netflix.genie.web.exceptions.checked">PreconditionFailedException</a></pre>
<div class="block">Set the applications for the command.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#setApplicationsForCommand(java.lang.String,java.util.List)">setApplicationsForCommand</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - The id of the command to add the application file to. Not null/empty/blank.</dd>
<dd><code>applicationIds</code> - The ids of the applications to set. Not null.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></code> - If no <a href="../../../../../common/external/dtos/v4/Command.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Command</code></a> exists with the given id or one of the
                                     applications doesn't exist</dd>
<dd><code><a href="../../../../exceptions/checked/PreconditionFailedException.html" title="class in com.netflix.genie.web.exceptions.checked">PreconditionFailedException</a></code> - If there are duplicate application ids in the list</dd>
</dl>
</li>
</ul>
<a id="getApplicationsForCommand(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getApplicationsForCommand</h4>
<pre class="methodSignature">public&nbsp;java.util.List&lt;<a href="../../../../../common/external/dtos/v4/Application.html" title="class in com.netflix.genie.common.external.dtos.v4">Application</a>&gt;&nbsp;getApplicationsForCommand&#8203;(java.lang.String&nbsp;id)
                                                      throws <a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></pre>
<div class="block">Get the applications for a given command.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#getApplicationsForCommand(java.lang.String)">getApplicationsForCommand</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - The id of the command to get the application for. Not null/empty/blank.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The applications or exception if none exist.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></code> - If no <a href="../../../../../common/external/dtos/v4/Command.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Command</code></a> exists with the given id</dd>
</dl>
</li>
</ul>
<a id="removeApplicationsForCommand(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeApplicationsForCommand</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;removeApplicationsForCommand&#8203;(@NotBlank
                                         @NotBlank java.lang.String&nbsp;id)
                                  throws <a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a>,
                                         <a href="../../../../exceptions/checked/PreconditionFailedException.html" title="class in com.netflix.genie.web.exceptions.checked">PreconditionFailedException</a></pre>
<div class="block">Remove all the applications from the command.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#removeApplicationsForCommand(java.lang.String)">removeApplicationsForCommand</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - The id of the command to remove the application from. Not null/empty/blank.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></code> - If no <a href="../../../../../common/external/dtos/v4/Command.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Command</code></a> exists with the given id</dd>
<dd><code><a href="../../../../exceptions/checked/PreconditionFailedException.html" title="class in com.netflix.genie.web.exceptions.checked">PreconditionFailedException</a></code> - If applications are unable to be removed</dd>
</dl>
</li>
</ul>
<a id="removeApplicationForCommand(java.lang.String,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeApplicationForCommand</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;removeApplicationForCommand&#8203;(@NotBlank
                                        @NotBlank java.lang.String&nbsp;id,
                                        @NotBlank
                                        @NotBlank java.lang.String&nbsp;appId)
                                 throws <a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></pre>
<div class="block">Remove the application from the command.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#removeApplicationForCommand(java.lang.String,java.lang.String)">removeApplicationForCommand</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - The id of the command to remove the application from. Not null/empty/blank.</dd>
<dd><code>appId</code> - The id of the application to remove. Not null/empty/blank</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></code> - If no <a href="../../../../../common/external/dtos/v4/Command.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Command</code></a> exists with the given id</dd>
</dl>
</li>
</ul>
<a id="getClustersForCommand(java.lang.String,java.util.Set)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getClustersForCommand</h4>
<pre class="methodSignature">public&nbsp;java.util.Set&lt;<a href="../../../../../common/external/dtos/v4/Cluster.html" title="class in com.netflix.genie.common.external.dtos.v4">Cluster</a>&gt;&nbsp;getClustersForCommand&#8203;(@NotBlank
                                                    @NotBlank java.lang.String&nbsp;id,
                                                    @Nullable
                                                    java.util.Set&lt;<a href="../../../../../common/external/dtos/v4/ClusterStatus.html" title="enum in com.netflix.genie.common.external.dtos.v4">ClusterStatus</a>&gt;&nbsp;statuses)
                                             throws <a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></pre>
<div class="block">Get all the clusters the command with given id is associated with.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#getClustersForCommand(java.lang.String,java.util.Set)">getClustersForCommand</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - The id of the command to get the clusters for.</dd>
<dd><code>statuses</code> - The status of the clusters returned</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The clusters the command is available on.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></code> - If no <a href="../../../../../common/external/dtos/v4/Command.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Command</code></a> exists with the given id</dd>
</dl>
</li>
</ul>
<a id="getClusterCriteriaForCommand(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getClusterCriteriaForCommand</h4>
<pre class="methodSignature">public&nbsp;java.util.List&lt;<a href="../../../../../common/external/dtos/v4/Criterion.html" title="class in com.netflix.genie.common.external.dtos.v4">Criterion</a>&gt;&nbsp;getClusterCriteriaForCommand&#8203;(java.lang.String&nbsp;id)
                                                       throws <a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></pre>
<div class="block">For the given command id return the Cluster <a href="../../../../../common/external/dtos/v4/Criterion.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Criterion</code></a> in priority order that is currently
 associated with this command if any.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#getClusterCriteriaForCommand(java.lang.String)">getClusterCriteriaForCommand</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - The id of the command to get the criteria for</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The cluster criteria in priority order</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></code> - If no command with id exists</dd>
</dl>
</li>
</ul>
<a id="addClusterCriterionForCommand(java.lang.String,com.netflix.genie.common.external.dtos.v4.Criterion)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addClusterCriterionForCommand</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;addClusterCriterionForCommand&#8203;(java.lang.String&nbsp;id,
                                          @Valid
                                          @Valid <a href="../../../../../common/external/dtos/v4/Criterion.html" title="class in com.netflix.genie.common.external.dtos.v4">Criterion</a>&nbsp;criterion)
                                   throws <a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></pre>
<div class="block">Add a new <a href="../../../../../common/external/dtos/v4/Criterion.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Criterion</code></a> to the existing list of cluster criteria for the command identified by id.
 This new criterion will be the lowest priority criterion.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#addClusterCriterionForCommand(java.lang.String,com.netflix.genie.common.external.dtos.v4.Criterion)">addClusterCriterionForCommand</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - The id of the command to add to</dd>
<dd><code>criterion</code> - The new <a href="../../../../../common/external/dtos/v4/Criterion.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Criterion</code></a> to add</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></code> - If no command with id exists</dd>
</dl>
</li>
</ul>
<a id="addClusterCriterionForCommand(java.lang.String,com.netflix.genie.common.external.dtos.v4.Criterion,@javax.validation.constraints.Min(0L)int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addClusterCriterionForCommand</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;addClusterCriterionForCommand&#8203;(java.lang.String&nbsp;id,
                                          @Valid
                                          @Valid <a href="../../../../../common/external/dtos/v4/Criterion.html" title="class in com.netflix.genie.common.external.dtos.v4">Criterion</a>&nbsp;criterion,
                                          @Min(0L)
                                          @javax.validation.constraints.Min(0L) int&nbsp;priority)
                                   throws <a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></pre>
<div class="block">Add a new <a href="../../../../../common/external/dtos/v4/Criterion.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Criterion</code></a> to the existing list of cluster criteria for the command identified by id.
 The priority is the place in the list this new criterion should be placed. A value of 0
 indicates it should be placed at the front of the list with the highest possible priority. 1 would be
 second in the list etc. If priority is &gt; the current size of the cluster criteria list
 this new criterion will be placed at the end as the lowest priority item.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#addClusterCriterionForCommand(java.lang.String,com.netflix.genie.common.external.dtos.v4.Criterion,@javax.validation.constraints.Min(0L)int)">addClusterCriterionForCommand</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - The id of the command to add to</dd>
<dd><code>criterion</code> - The new <a href="../../../../../common/external/dtos/v4/Criterion.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Criterion</code></a> to add</dd>
<dd><code>priority</code> - The place in the existing cluster criteria list this new criterion should be placed. Min 0.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></code> - If no command with id exists</dd>
</dl>
</li>
</ul>
<a id="setClusterCriteriaForCommand(java.lang.String,java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setClusterCriteriaForCommand</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setClusterCriteriaForCommand&#8203;(java.lang.String&nbsp;id,
                                         java.util.List&lt;@Valid <a href="../../../../../common/external/dtos/v4/Criterion.html" title="class in com.netflix.genie.common.external.dtos.v4">Criterion</a>&gt;&nbsp;clusterCriteria)
                                  throws <a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></pre>
<div class="block">For the command identified by id reset the entire list of cluster criteria to match the contents of
 clusterCriteria.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#setClusterCriteriaForCommand(java.lang.String,java.util.List)">setClusterCriteriaForCommand</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - The id of the command to set the cluster criteria for</dd>
<dd><code>clusterCriteria</code> - The priority list of <a href="../../../../../common/external/dtos/v4/Criterion.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Criterion</code></a> to set</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></code> - If no command with id exists</dd>
</dl>
</li>
</ul>
<a id="removeClusterCriterionForCommand(java.lang.String,@javax.validation.constraints.Min(0L)int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeClusterCriterionForCommand</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;removeClusterCriterionForCommand&#8203;(java.lang.String&nbsp;id,
                                             @Min(0L)
                                             @javax.validation.constraints.Min(0L) int&nbsp;priority)
                                      throws <a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></pre>
<div class="block">Remove the <a href="../../../../../common/external/dtos/v4/Criterion.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Criterion</code></a> with the given priority from the current list of cluster criteria
 associated with the command identified by id. A value of 0 for priority
 will result in the first element in the list being removed, 1 the second element and so on.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#removeClusterCriterionForCommand(java.lang.String,@javax.validation.constraints.Min(0L)int)">removeClusterCriterionForCommand</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - The id of the command to remove the criterion from</dd>
<dd><code>priority</code> - The priority of the criterion to remove</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></code> - If no command with id exists</dd>
</dl>
</li>
</ul>
<a id="removeAllClusterCriteriaForCommand(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeAllClusterCriteriaForCommand</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;removeAllClusterCriteriaForCommand&#8203;(java.lang.String&nbsp;id)
                                        throws <a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></pre>
<div class="block">Remove all the <a href="../../../../../common/external/dtos/v4/Criterion.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Criterion</code></a> currently associated with the command identified by id.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#removeAllClusterCriteriaForCommand(java.lang.String)">removeAllClusterCriteriaForCommand</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - The id of the command to remove the criteria from</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></code> - If no command with id exists</dd>
</dl>
</li>
</ul>
<a id="findCommandsMatchingCriterion(com.netflix.genie.common.external.dtos.v4.Criterion,boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findCommandsMatchingCriterion</h4>
<pre class="methodSignature">public&nbsp;java.util.Set&lt;<a href="../../../../../common/external/dtos/v4/Command.html" title="class in com.netflix.genie.common.external.dtos.v4">Command</a>&gt;&nbsp;findCommandsMatchingCriterion&#8203;(@Valid
                                                            @Valid <a href="../../../../../common/external/dtos/v4/Criterion.html" title="class in com.netflix.genie.common.external.dtos.v4">Criterion</a>&nbsp;criterion,
                                                            boolean&nbsp;addDefaultStatus)</pre>
<div class="block">Find all the <a href="../../../../../common/external/dtos/v4/Command.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Command</code></a>'s that match the given <a href="../../../../../common/external/dtos/v4/Criterion.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Criterion</code></a>.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#findCommandsMatchingCriterion(com.netflix.genie.common.external.dtos.v4.Criterion,boolean)">findCommandsMatchingCriterion</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>criterion</code> - The <a href="../../../../../common/external/dtos/v4/Criterion.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Criterion</code></a> supplied that each command needs to completely match to be returned</dd>
<dd><code>addDefaultStatus</code> - true if a default status should be added to the supplied criterion if a
                         status isn't already present</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>All the <a href="../../../../../common/external/dtos/v4/Command.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Command</code></a>'s which matched the <a href="../../../../../common/external/dtos/v4/Criterion.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Criterion</code></a></dd>
</dl>
</li>
</ul>
<a id="updateStatusForUnusedCommands(com.netflix.genie.common.external.dtos.v4.CommandStatus,java.time.Instant,java.util.Set,int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateStatusForUnusedCommands</h4>
<pre class="methodSignature">@Transactional(isolation=READ_COMMITTED)
public&nbsp;int&nbsp;updateStatusForUnusedCommands&#8203;(<a href="../../../../../common/external/dtos/v4/CommandStatus.html" title="enum in com.netflix.genie.common.external.dtos.v4">CommandStatus</a>&nbsp;desiredStatus,
                                         java.time.Instant&nbsp;commandCreatedThreshold,
                                         java.util.Set&lt;<a href="../../../../../common/external/dtos/v4/CommandStatus.html" title="enum in com.netflix.genie.common.external.dtos.v4">CommandStatus</a>&gt;&nbsp;currentStatuses,
                                         int&nbsp;batchSize)</pre>
<div class="block">Update the status of a command to the desiredStatus if its status is in currentStatuses,
 it was created before commandCreatedThreshold and it hasn't been used in any job.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#updateStatusForUnusedCommands(com.netflix.genie.common.external.dtos.v4.CommandStatus,java.time.Instant,java.util.Set,int)">updateStatusForUnusedCommands</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>desiredStatus</code> - The new status the matching commands should have</dd>
<dd><code>commandCreatedThreshold</code> - The instant in time which a command must have been created before to be
                                considered for update. Exclusive</dd>
<dd><code>currentStatuses</code> - The set of current statuses a command must have to be considered for update</dd>
<dd><code>batchSize</code> - The maximum number of commands to update in a single transaction</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The number of commands whose statuses were updated to desiredStatus</dd>
</dl>
</li>
</ul>
<a id="deleteUnusedCommands(java.util.Set,java.time.Instant,int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteUnusedCommands</h4>
<pre class="methodSignature">@Transactional(isolation=READ_COMMITTED)
public&nbsp;long&nbsp;deleteUnusedCommands&#8203;(java.util.Set&lt;<a href="../../../../../common/external/dtos/v4/CommandStatus.html" title="enum in com.netflix.genie.common.external.dtos.v4">CommandStatus</a>&gt;&nbsp;deleteStatuses,
                                 java.time.Instant&nbsp;commandCreatedThreshold,
                                 int&nbsp;batchSize)</pre>
<div class="block">Bulk delete commands from the database where their status is in deleteStatuses they were created
 before commandCreatedThreshold and they aren't attached to any jobs still in the database.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#deleteUnusedCommands(java.util.Set,java.time.Instant,@javax.validation.constraints.Min(1L)int)">deleteUnusedCommands</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>deleteStatuses</code> - The set of statuses a command must be in in order to be considered for deletion</dd>
<dd><code>commandCreatedThreshold</code> - The instant in time a command must have been created before to be considered for
                                deletion. Exclusive.</dd>
<dd><code>batchSize</code> - The maximum number of commands to delete in a single transaction</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The number of commands that were deleted</dd>
</dl>
</li>
</ul>
<a id="getV3JobRequest(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getV3JobRequest</h4>
<pre class="methodSignature">@Deprecated
public&nbsp;<a href="../../../../../common/dto/JobRequest.html" title="class in com.netflix.genie.common.dto">JobRequest</a>&nbsp;getV3JobRequest&#8203;(@NotBlank
                                  @NotBlank java.lang.String&nbsp;id)
                           throws <a href="../../../../../common/exceptions/GenieException.html" title="class in com.netflix.genie.common.exceptions">GenieException</a></pre>
<div class="deprecationBlock"><span class="deprecatedLabel">Deprecated.</span></div>
<div class="block">Get job request for given job id.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#getV3JobRequest(java.lang.String)">getV3JobRequest</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - id of job request to look up</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the job</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../common/exceptions/GenieException.html" title="class in com.netflix.genie.common.exceptions">GenieException</a></code> - if there is an error</dd>
</dl>
</li>
</ul>
<a id="getJob(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getJob</h4>
<pre class="methodSignature">public&nbsp;<a href="../../../../../common/dto/Job.html" title="class in com.netflix.genie.common.dto">Job</a>&nbsp;getJob&#8203;(@NotBlank
                  @NotBlank java.lang.String&nbsp;id)
           throws <a href="../../../../../common/exceptions/GenieException.html" title="class in com.netflix.genie.common.exceptions">GenieException</a></pre>
<div class="block">Get job information for given job id.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#getJob(java.lang.String)">getJob</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - id of job to look up</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the job</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../common/exceptions/GenieException.html" title="class in com.netflix.genie.common.exceptions">GenieException</a></code> - if there is an error</dd>
</dl>
</li>
</ul>
<a id="getJobExecution(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getJobExecution</h4>
<pre class="methodSignature">public&nbsp;<a href="../../../../../common/dto/JobExecution.html" title="class in com.netflix.genie.common.dto">JobExecution</a>&nbsp;getJobExecution&#8203;(@NotBlank
                                    @NotBlank java.lang.String&nbsp;id)
                             throws <a href="../../../../../common/exceptions/GenieException.html" title="class in com.netflix.genie.common.exceptions">GenieException</a></pre>
<div class="block">Get job execution for given job id.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#getJobExecution(java.lang.String)">getJobExecution</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - id of job execution to look up</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the job</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../common/exceptions/GenieException.html" title="class in com.netflix.genie.common.exceptions">GenieException</a></code> - if there is an error</dd>
</dl>
</li>
</ul>
<a id="getJobMetadata(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getJobMetadata</h4>
<pre class="methodSignature">public&nbsp;<a href="../../../../../common/dto/JobMetadata.html" title="class in com.netflix.genie.common.dto">JobMetadata</a>&nbsp;getJobMetadata&#8203;(@NotBlank
                                  @NotBlank java.lang.String&nbsp;id)
                           throws <a href="../../../../../common/exceptions/GenieException.html" title="class in com.netflix.genie.common.exceptions">GenieException</a></pre>
<div class="block">Get the metadata about a job.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#getJobMetadata(java.lang.String)">getJobMetadata</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - The id of the job to get metadata for</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The metadata for a job</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../common/exceptions/GenieException.html" title="class in com.netflix.genie.common.exceptions">GenieException</a></code> - If any error occurs</dd>
</dl>
</li>
</ul>
<a id="findJobs(java.lang.String,java.lang.String,java.lang.String,java.util.Set,java.util.Set,java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.time.Instant,java.time.Instant,java.time.Instant,java.time.Instant,java.lang.String,java.lang.String,org.springframework.data.domain.Pageable)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findJobs</h4>
<pre class="methodSignature">@Transactional(readOnly=true)
public&nbsp;org.springframework.data.domain.Page&lt;<a href="../../../../../common/dto/search/JobSearchResult.html" title="class in com.netflix.genie.common.dto.search">JobSearchResult</a>&gt;&nbsp;findJobs&#8203;(@Nullable
                                                                      java.lang.String&nbsp;id,
                                                                      @Nullable
                                                                      java.lang.String&nbsp;name,
                                                                      @Nullable
                                                                      java.lang.String&nbsp;user,
                                                                      @Nullable
                                                                      java.util.Set&lt;<a href="../../../../../common/dto/JobStatus.html" title="enum in com.netflix.genie.common.dto">JobStatus</a>&gt;&nbsp;statuses,
                                                                      @Nullable
                                                                      java.util.Set&lt;java.lang.String&gt;&nbsp;tags,
                                                                      @Nullable
                                                                      java.lang.String&nbsp;clusterName,
                                                                      @Nullable
                                                                      java.lang.String&nbsp;clusterId,
                                                                      @Nullable
                                                                      java.lang.String&nbsp;commandName,
                                                                      @Nullable
                                                                      java.lang.String&nbsp;commandId,
                                                                      @Nullable
                                                                      java.time.Instant&nbsp;minStarted,
                                                                      @Nullable
                                                                      java.time.Instant&nbsp;maxStarted,
                                                                      @Nullable
                                                                      java.time.Instant&nbsp;minFinished,
                                                                      @Nullable
                                                                      java.time.Instant&nbsp;maxFinished,
                                                                      @Nullable
                                                                      java.lang.String&nbsp;grouping,
                                                                      @Nullable
                                                                      java.lang.String&nbsp;groupingInstance,
                                                                      @NotNull
                                                                      @NotNull org.springframework.data.domain.Pageable&nbsp;page)</pre>
<div class="block">Find jobs which match the given filter criteria.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#findJobs(java.lang.String,java.lang.String,java.lang.String,java.util.Set,java.util.Set,java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.time.Instant,java.time.Instant,java.time.Instant,java.time.Instant,java.lang.String,java.lang.String,org.springframework.data.domain.Pageable)">findJobs</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - id for job</dd>
<dd><code>name</code> - name of job</dd>
<dd><code>user</code> - user who submitted job</dd>
<dd><code>statuses</code> - statuses of job</dd>
<dd><code>tags</code> - tags for the job</dd>
<dd><code>clusterName</code> - name of cluster for job</dd>
<dd><code>clusterId</code> - id of cluster for job</dd>
<dd><code>commandName</code> - name of the command run in the job</dd>
<dd><code>commandId</code> - id of the command run in the job</dd>
<dd><code>minStarted</code> - The time which the job had to start after in order to be return (inclusive)</dd>
<dd><code>maxStarted</code> - The time which the job had to start before in order to be returned (exclusive)</dd>
<dd><code>minFinished</code> - The time which the job had to finish after in order to be return (inclusive)</dd>
<dd><code>maxFinished</code> - The time which the job had to finish before in order to be returned (exclusive)</dd>
<dd><code>grouping</code> - The job grouping to search for</dd>
<dd><code>groupingInstance</code> - The job grouping instance to search for</dd>
<dd><code>page</code> - Page information of job to get</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Metadata information on jobs which match the criteria</dd>
</dl>
</li>
</ul>
<a id="deleteJobsCreatedBefore(java.time.Instant,java.util.Set,@javax.validation.constraints.Min(1L)int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteJobsCreatedBefore</h4>
<pre class="methodSignature">@Transactional(isolation=READ_COMMITTED)
public&nbsp;long&nbsp;deleteJobsCreatedBefore&#8203;(@NotNull
                                    @NotNull java.time.Instant&nbsp;creationThreshold,
                                    @NotNull
                                    @NotNull java.util.Set&lt;<a href="../../../../../common/external/dtos/v4/JobStatus.html" title="enum in com.netflix.genie.common.external.dtos.v4">JobStatus</a>&gt;&nbsp;excludeStatuses,
                                    @Min(1L)
                                    @javax.validation.constraints.Min(1L) int&nbsp;batchSize)</pre>
<div class="block">This method will delete a chunk of jobs whose creation time is earlier than the given date.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#deleteJobsCreatedBefore(java.time.Instant,java.util.Set,@javax.validation.constraints.Min(1L)int)">deleteJobsCreatedBefore</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>creationThreshold</code> - The instant in time before which all jobs should be deleted</dd>
<dd><code>excludeStatuses</code> - The set of statuses that should be excluded from deletion if a job is in one of these
                          statuses</dd>
<dd><code>batchSize</code> - The maximum number of jobs that should be deleted per query</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the number of deleted jobs</dd>
</dl>
</li>
</ul>
<a id="saveJobSubmission(com.netflix.genie.web.dtos.JobSubmission)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>saveJobSubmission</h4>
<pre class="methodSignature">@Nonnull
public&nbsp;java.lang.String&nbsp;saveJobSubmission&#8203;(@Valid
                                          @Valid <a href="../../../../dtos/JobSubmission.html" title="class in com.netflix.genie.web.dtos">JobSubmission</a>&nbsp;jobSubmission)
                                   throws <a href="../../../../exceptions/checked/IdAlreadyExistsException.html" title="class in com.netflix.genie.web.exceptions.checked">IdAlreadyExistsException</a></pre>
<div class="block">Save the given job submission information in the underlying data store.
 <p>
 The job record will be created with initial state of <a href="../../../../../common/external/dtos/v4/JobStatus.html#RESERVED"><code>JobStatus.RESERVED</code></a> meaning that the unique id
 returned by this API has been reserved within Genie and no other job can use it. If
 <a href="../../../../dtos/JobSubmission.html" title="class in com.netflix.genie.web.dtos"><code>JobSubmission</code></a> contains some attachments these attachments will be persisted to a
 configured storage system (i.e. local disk, S3, etc) and added to the set of dependencies for the job.
 The underlying attachment storage system must be accessible by the agent process configured by the system. For
 example if the server is set up to write attachments to local disk but the agent is not running locally but
 instead on the remote system it will not be able to access those attachments (as dependencies) and fail.
 See <a href="../../../../services/AttachmentService.html" title="interface in com.netflix.genie.web.services"><code>AttachmentService</code></a> for more information.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#saveJobSubmission(com.netflix.genie.web.dtos.JobSubmission)">saveJobSubmission</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>jobSubmission</code> - All the information the system has gathered regarding the job submission from the user
                      either via the API or via the agent CLI</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The unique id of the job within the Genie ecosystem</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../exceptions/checked/IdAlreadyExistsException.html" title="class in com.netflix.genie.web.exceptions.checked">IdAlreadyExistsException</a></code> - If the id the user requested already exists in the system for another job</dd>
</dl>
</li>
</ul>
<a id="getJobRequest(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getJobRequest</h4>
<pre class="methodSignature">public&nbsp;<a href="../../../../../common/external/dtos/v4/JobRequest.html" title="class in com.netflix.genie.common.external.dtos.v4">JobRequest</a>&nbsp;getJobRequest&#8203;(@NotBlank
                                @NotBlank java.lang.String&nbsp;id)
                         throws <a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></pre>
<div class="block">Get the original request for a job.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#getJobRequest(java.lang.String)">getJobRequest</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - The unique id of the job to get</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The job request if one was found</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></code> - If no job with <code>id</code> exists</dd>
</dl>
</li>
</ul>
<a id="saveResolvedJob(java.lang.String,com.netflix.genie.web.dtos.ResolvedJob)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>saveResolvedJob</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;saveResolvedJob&#8203;(@NotBlank
                            @NotBlank java.lang.String&nbsp;id,
                            @Valid
                            @Valid <a href="../../../../dtos/ResolvedJob.html" title="class in com.netflix.genie.web.dtos">ResolvedJob</a>&nbsp;resolvedJob)
                     throws <a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></pre>
<div class="block">Save the given resolved details for a job. Sets the job status to <a href="../../../../../common/external/dtos/v4/JobStatus.html#RESOLVED"><code>JobStatus.RESOLVED</code></a>.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#saveResolvedJob(java.lang.String,com.netflix.genie.web.dtos.ResolvedJob)">saveResolvedJob</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - The id of the job</dd>
<dd><code>resolvedJob</code> - The resolved information for the job</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></code> - When the job identified by <code>id</code> can't be found and the
                           specification can't be saved or one of the resolved cluster, command
                           or applications not longer exist in the system.</dd>
</dl>
</li>
</ul>
<a id="getJobSpecification(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getJobSpecification</h4>
<pre class="methodSignature">public&nbsp;java.util.Optional&lt;<a href="../../../../../common/external/dtos/v4/JobSpecification.html" title="class in com.netflix.genie.common.external.dtos.v4">JobSpecification</a>&gt;&nbsp;getJobSpecification&#8203;(@NotBlank
                                                                @NotBlank java.lang.String&nbsp;id)
                                                         throws <a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></pre>
<div class="block">Get the saved job specification for the given job. If the job hasn't had a job specification resolved an empty
 <code>Optional</code> will be returned.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#getJobSpecification(java.lang.String)">getJobSpecification</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - The id of the job</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The <a href="../../../../../common/external/dtos/v4/JobSpecification.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>JobSpecification</code></a> if one is present else an empty <code>Optional</code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></code> - If no job with <code>id</code> exists</dd>
</dl>
</li>
</ul>
<a id="claimJob(java.lang.String,com.netflix.genie.common.external.dtos.v4.AgentClientMetadata)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>claimJob</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;claimJob&#8203;(@NotBlank
                     @NotBlank java.lang.String&nbsp;id,
                     @Valid
                     @Valid <a href="../../../../../common/external/dtos/v4/AgentClientMetadata.html" title="class in com.netflix.genie.common.external.dtos.v4">AgentClientMetadata</a>&nbsp;agentClientMetadata)
              throws <a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a>,
                     <a href="../../../../../common/internal/exceptions/unchecked/GenieJobAlreadyClaimedException.html" title="class in com.netflix.genie.common.internal.exceptions.unchecked">GenieJobAlreadyClaimedException</a>,
                     <a href="../../../../../common/internal/exceptions/unchecked/GenieInvalidStatusException.html" title="class in com.netflix.genie.common.internal.exceptions.unchecked">GenieInvalidStatusException</a></pre>
<div class="block">Set a job identified by <code>id</code> to be owned by the agent identified by <code>agentClientMetadata</code>. The
 job status in the system will be set to <a href="../../../../../common/external/dtos/v4/JobStatus.html#CLAIMED"><code>JobStatus.CLAIMED</code></a></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#claimJob(java.lang.String,com.netflix.genie.common.external.dtos.v4.AgentClientMetadata)">claimJob</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - The id of the job to claim. Must exist in the system.</dd>
<dd><code>agentClientMetadata</code> - The metadata about the client claiming the job</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></code> - if no job with the given <code>id</code> exists</dd>
<dd><code><a href="../../../../../common/internal/exceptions/unchecked/GenieJobAlreadyClaimedException.html" title="class in com.netflix.genie.common.internal.exceptions.unchecked">GenieJobAlreadyClaimedException</a></code> - if the job with the given <code>id</code> already has been claimed</dd>
<dd><code><a href="../../../../../common/internal/exceptions/unchecked/GenieInvalidStatusException.html" title="class in com.netflix.genie.common.internal.exceptions.unchecked">GenieInvalidStatusException</a></code> - if the current job status is not <a href="../../../../../common/external/dtos/v4/JobStatus.html#RESOLVED"><code>JobStatus.RESOLVED</code></a></dd>
</dl>
</li>
</ul>
<a id="updateJobStatus(java.lang.String,com.netflix.genie.common.external.dtos.v4.JobStatus,com.netflix.genie.common.external.dtos.v4.JobStatus,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateJobStatus</h4>
<pre class="methodSignature">public&nbsp;<a href="../../../../../common/external/dtos/v4/JobStatus.html" title="enum in com.netflix.genie.common.external.dtos.v4">JobStatus</a>&nbsp;updateJobStatus&#8203;(@NotBlank
                                 @NotBlank java.lang.String&nbsp;id,
                                 @NotNull
                                 @NotNull <a href="../../../../../common/external/dtos/v4/JobStatus.html" title="enum in com.netflix.genie.common.external.dtos.v4">JobStatus</a>&nbsp;currentStatus,
                                 @NotNull
                                 @NotNull <a href="../../../../../common/external/dtos/v4/JobStatus.html" title="enum in com.netflix.genie.common.external.dtos.v4">JobStatus</a>&nbsp;newStatus,
                                 @Nullable
                                 java.lang.String&nbsp;newStatusMessage)
                          throws <a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></pre>
<div class="block">Update the status of the job identified with <code>id</code> to be <code>newStatus</code> provided that the current status
 of the job matches <code>newStatus</code>. Optionally a status message can be provided to provide more details to
 users. If the <code>newStatus</code> is <a href="../../../../../common/external/dtos/v4/JobStatus.html#RUNNING"><code>JobStatus.RUNNING</code></a> the start time will be set. If the <code>newStatus</code>
 is a member of <a href="../../../../../common/external/dtos/v4/JobStatus.html#getFinishedStatuses()"><code>JobStatus.getFinishedStatuses()</code></a> and the job had a started time set the finished time of
 the job will be set. If the currentStatus is different from what the source of truth thinks this
 function will skip the update and just return the current source of truth value.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#updateJobStatus(java.lang.String,com.netflix.genie.common.external.dtos.v4.JobStatus,com.netflix.genie.common.external.dtos.v4.JobStatus,java.lang.String)">updateJobStatus</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - The id of the job to update status for. Must exist in the system.</dd>
<dd><code>currentStatus</code> - The status the caller to this API thinks the job currently has</dd>
<dd><code>newStatus</code> - The new status the caller would like to update the status to</dd>
<dd><code>newStatusMessage</code> - An optional status message to associate with this change</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The job status in the source of truth</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></code> - if no job with the given <code>id</code> exists</dd>
</dl>
</li>
</ul>
<a id="updateJobArchiveStatus(java.lang.String,com.netflix.genie.common.external.dtos.v4.ArchiveStatus)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateJobArchiveStatus</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;updateJobArchiveStatus&#8203;(@NotBlank(message="No job id entered. Unable to update.")
                                   @NotBlank(message="No job id entered. Unable to update.") java.lang.String&nbsp;id,
                                   @NotNull(message="Status cannot be null.")
                                   @NotNull(message="Status cannot be null.") <a href="../../../../../common/external/dtos/v4/ArchiveStatus.html" title="enum in com.netflix.genie.common.external.dtos.v4">ArchiveStatus</a>&nbsp;archiveStatus)
                            throws <a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></pre>
<div class="block">Update the status and status message of the job.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#updateJobArchiveStatus(java.lang.String,com.netflix.genie.common.external.dtos.v4.ArchiveStatus)">updateJobArchiveStatus</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - The id of the job to update the status for.</dd>
<dd><code>archiveStatus</code> - The updated archive status for the job.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></code> - If no job with the given <code>id</code> exists</dd>
</dl>
</li>
</ul>
<a id="getJobStatus(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getJobStatus</h4>
<pre class="methodSignature">public&nbsp;<a href="../../../../../common/external/dtos/v4/JobStatus.html" title="enum in com.netflix.genie.common.external.dtos.v4">JobStatus</a>&nbsp;getJobStatus&#8203;(@NotBlank
                              @NotBlank java.lang.String&nbsp;id)
                       throws <a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></pre>
<div class="block">Get the status for a job with the given <code>id</code>.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#getJobStatus(java.lang.String)">getJobStatus</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - The id of the job to get status for</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The job status</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></code> - If no job with the given <code>id</code> exists</dd>
</dl>
</li>
</ul>
<a id="getJobArchiveStatus(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getJobArchiveStatus</h4>
<pre class="methodSignature">public&nbsp;<a href="../../../../../common/external/dtos/v4/ArchiveStatus.html" title="enum in com.netflix.genie.common.external.dtos.v4">ArchiveStatus</a>&nbsp;getJobArchiveStatus&#8203;(@NotBlank
                                         @NotBlank java.lang.String&nbsp;id)
                                  throws <a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></pre>
<div class="block">Get the archive status for a job with the given <code>id</code>.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#getJobArchiveStatus(java.lang.String)">getJobArchiveStatus</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - The id of the job to get status for</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The job archive status</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></code> - If no job with the given <code>id</code> exists</dd>
</dl>
</li>
</ul>
<a id="getJobArchiveLocation(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getJobArchiveLocation</h4>
<pre class="methodSignature">public&nbsp;java.util.Optional&lt;java.lang.String&gt;&nbsp;getJobArchiveLocation&#8203;(@NotBlank
                                                                  @NotBlank java.lang.String&nbsp;id)
                                                           throws <a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></pre>
<div class="block">Get the location a job directory was archived to if at all.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#getJobArchiveLocation(java.lang.String)">getJobArchiveLocation</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - The id of the job to get the location for</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The archive location or <code>Optional.empty()</code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></code> - When there is no job with id <code>id</code></dd>
</dl>
</li>
</ul>
<a id="getFinishedJob(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFinishedJob</h4>
<pre class="methodSignature">public&nbsp;<a href="../../../../../common/internal/dtos/v4/FinishedJob.html" title="class in com.netflix.genie.common.internal.dtos.v4">FinishedJob</a>&nbsp;getFinishedJob&#8203;(@NotBlank
                                  @NotBlank java.lang.String&nbsp;id)
                           throws <a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a>,
                                  <a href="../../../../../common/internal/exceptions/unchecked/GenieInvalidStatusException.html" title="class in com.netflix.genie.common.internal.exceptions.unchecked">GenieInvalidStatusException</a></pre>
<div class="block">Get a DTO representing a finished job.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#getFinishedJob(java.lang.String)">getFinishedJob</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - The id of the job to retrieve</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the finished job</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></code> - if no job with the given <code>id</code> exists</dd>
<dd><code><a href="../../../../../common/internal/exceptions/unchecked/GenieInvalidStatusException.html" title="class in com.netflix.genie.common.internal.exceptions.unchecked">GenieInvalidStatusException</a></code> - if the current status of the job is not final</dd>
</dl>
</li>
</ul>
<a id="isApiJob(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isApiJob</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;isApiJob&#8203;(@NotBlank
                        @NotBlank java.lang.String&nbsp;id)
                 throws <a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></pre>
<div class="block">Get whether the job with the given ID was submitted via the REST API or other mechanism.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#isApiJob(java.lang.String)">isApiJob</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - The id of the job. Not blank.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the job was submitted via the API. false otherwise</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></code> - If no job with id exists</dd>
</dl>
</li>
</ul>
<a id="getJobCluster(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getJobCluster</h4>
<pre class="methodSignature">public&nbsp;<a href="../../../../../common/external/dtos/v4/Cluster.html" title="class in com.netflix.genie.common.external.dtos.v4">Cluster</a>&nbsp;getJobCluster&#8203;(@NotBlank
                             @NotBlank java.lang.String&nbsp;id)
                      throws <a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></pre>
<div class="block">Get the cluster the job used or is using.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#getJobCluster(java.lang.String)">getJobCluster</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - The id of the job to get the cluster for</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The <a href="../../../../../common/external/dtos/v4/Cluster.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Cluster</code></a></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></code> - If either the job or the cluster is not found</dd>
</dl>
</li>
</ul>
<a id="getJobCommand(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getJobCommand</h4>
<pre class="methodSignature">public&nbsp;<a href="../../../../../common/external/dtos/v4/Command.html" title="class in com.netflix.genie.common.external.dtos.v4">Command</a>&nbsp;getJobCommand&#8203;(@NotBlank
                             @NotBlank java.lang.String&nbsp;id)
                      throws <a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></pre>
<div class="block">Get the command the job used or is using.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#getJobCommand(java.lang.String)">getJobCommand</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - The id of the job to get the command for</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The <a href="../../../../../common/external/dtos/v4/Command.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Command</code></a></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></code> - If either the job or the command is not found</dd>
</dl>
</li>
</ul>
<a id="getJobApplications(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getJobApplications</h4>
<pre class="methodSignature">public&nbsp;java.util.List&lt;<a href="../../../../../common/external/dtos/v4/Application.html" title="class in com.netflix.genie.common.external.dtos.v4">Application</a>&gt;&nbsp;getJobApplications&#8203;(@NotBlank
                                                      @NotBlank java.lang.String&nbsp;id)
                                               throws <a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></pre>
<div class="block">Get the applications the job used or is currently using.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#getJobApplications(java.lang.String)">getJobApplications</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - The id of the job to get the applications for</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The <a href="../../../../../common/external/dtos/v4/Application.html" title="class in com.netflix.genie.common.external.dtos.v4"><code>Application</code></a>s</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></code> - If either the job or the applications were not found</dd>
</dl>
</li>
</ul>
<a id="getActiveJobCountForUser(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getActiveJobCountForUser</h4>
<pre class="methodSignature">@Transactional(readOnly=true)
public&nbsp;long&nbsp;getActiveJobCountForUser&#8203;(@NotBlank
                                     @NotBlank java.lang.String&nbsp;user)</pre>
<div class="block">Get the count of 'active' jobs for a given user across all instances.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#getActiveJobCountForUser(java.lang.String)">getActiveJobCountForUser</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>user</code> - The user name</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the number of active jobs for a given user</dd>
</dl>
</li>
</ul>
<a id="getUserResourcesSummaries(java.util.Set,boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUserResourcesSummaries</h4>
<pre class="methodSignature">@Transactional(readOnly=true)
public&nbsp;java.util.Map&lt;java.lang.String,&#8203;<a href="../../../../../common/dto/UserResourcesSummary.html" title="class in com.netflix.genie.common.dto">UserResourcesSummary</a>&gt;&nbsp;getUserResourcesSummaries&#8203;(java.util.Set&lt;<a href="../../../../../common/external/dtos/v4/JobStatus.html" title="enum in com.netflix.genie.common.external.dtos.v4">JobStatus</a>&gt;&nbsp;statuses,
                                                                                            boolean&nbsp;api)</pre>
<div class="block">Get a map of summaries of resources usage for each user with at least one active job.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#getUserResourcesSummaries(java.util.Set,boolean)">getUserResourcesSummaries</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>statuses</code> - The set of <a href="../../../../../common/external/dtos/v4/JobStatus.html" title="enum in com.netflix.genie.common.external.dtos.v4"><code>JobStatus</code></a> a job must be in to be considered in this request</dd>
<dd><code>api</code> - Whether the job was submitted via the api (true) or the agent cli (false)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a map of user resources summaries, keyed on user name</dd>
</dl>
</li>
</ul>
<a id="getUsedMemoryOnHost(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUsedMemoryOnHost</h4>
<pre class="methodSignature">public&nbsp;long&nbsp;getUsedMemoryOnHost&#8203;(@NotBlank
                                @NotBlank java.lang.String&nbsp;hostname)</pre>
<div class="block">Get the amount of memory currently used on the given host by Genie jobs in any of the following states.
 <p>
 <a href="../../../../../common/external/dtos/v4/JobStatus.html#CLAIMED"><code>JobStatus.CLAIMED</code></a>
 <a href="../../../../../common/external/dtos/v4/JobStatus.html#INIT"><code>JobStatus.INIT</code></a>
 <a href="../../../../../common/external/dtos/v4/JobStatus.html#RUNNING"><code>JobStatus.RUNNING</code></a></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#getUsedMemoryOnHost(java.lang.String)">getUsedMemoryOnHost</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>hostname</code> - The hostname to get the memory for</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The amount of memory being used in MB by all jobs</dd>
</dl>
</li>
</ul>
<a id="getActiveJobs()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getActiveJobs</h4>
<pre class="methodSignature">public&nbsp;java.util.Set&lt;java.lang.String&gt;&nbsp;getActiveJobs()</pre>
<div class="block">Get the set of active jobs.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#getActiveJobs()">getActiveJobs</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The set of job ids which currently have a status which is considered active</dd>
</dl>
</li>
</ul>
<a id="getUnclaimedJobs()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUnclaimedJobs</h4>
<pre class="methodSignature">public&nbsp;java.util.Set&lt;java.lang.String&gt;&nbsp;getUnclaimedJobs()</pre>
<div class="block">Get the set of jobs in that have not reached CLAIMED state.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#getUnclaimedJobs()">getUnclaimedJobs</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The set of job ids for jobs which are active but haven't been claimed</dd>
</dl>
</li>
</ul>
<a id="getHostJobInformation(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getHostJobInformation</h4>
<pre class="methodSignature">public&nbsp;<a href="queries/aggregates/JobInfoAggregate.html" title="interface in com.netflix.genie.web.data.services.impl.jpa.queries.aggregates">JobInfoAggregate</a>&nbsp;getHostJobInformation&#8203;(@NotBlank
                                              @NotBlank java.lang.String&nbsp;hostname)</pre>
<div class="block">Get all the aggregate metadata information about jobs running on a given hostname.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#getHostJobInformation(java.lang.String)">getHostJobInformation</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>hostname</code> - The hostname the agent is running the job on</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A <a href="queries/aggregates/JobInfoAggregate.html" title="interface in com.netflix.genie.web.data.services.impl.jpa.queries.aggregates"><code>JobInfoAggregate</code></a> containing the metadata information</dd>
</dl>
</li>
</ul>
<a id="getJobsWithStatusAndArchiveStatusUpdatedBefore(java.util.Set,java.util.Set,java.time.Instant)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getJobsWithStatusAndArchiveStatusUpdatedBefore</h4>
<pre class="methodSignature">public&nbsp;java.util.Set&lt;java.lang.String&gt;&nbsp;getJobsWithStatusAndArchiveStatusUpdatedBefore&#8203;(@NotEmpty
                                                                                      @NotEmpty java.util.Set&lt;<a href="../../../../../common/external/dtos/v4/JobStatus.html" title="enum in com.netflix.genie.common.external.dtos.v4">JobStatus</a>&gt;&nbsp;statuses,
                                                                                      @NotEmpty
                                                                                      @NotEmpty java.util.Set&lt;<a href="../../../../../common/external/dtos/v4/ArchiveStatus.html" title="enum in com.netflix.genie.common.external.dtos.v4">ArchiveStatus</a>&gt;&nbsp;archiveStatuses,
                                                                                      @NotNull
                                                                                      @NotNull java.time.Instant&nbsp;updated)</pre>
<div class="block">Get the set of jobs (agent only) whose state is in <code>statuses</code> and archive status is in
 <code>archiveStatuses</code> and last updated before <code>updated</code>.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#getJobsWithStatusAndArchiveStatusUpdatedBefore(java.util.Set,java.util.Set,java.time.Instant)">getJobsWithStatusAndArchiveStatusUpdatedBefore</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>statuses</code> - the set of job statuses</dd>
<dd><code>archiveStatuses</code> - the set of job archive statuses</dd>
<dd><code>updated</code> - the threshold of last update</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a set of job ids</dd>
</dl>
</li>
</ul>
<a id="updateRequestedLauncherExt(java.lang.String,com.fasterxml.jackson.databind.JsonNode)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateRequestedLauncherExt</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;updateRequestedLauncherExt&#8203;(@NotBlank(message="No job id entered. Unable to update.")
                                       @NotBlank(message="No job id entered. Unable to update.") java.lang.String&nbsp;id,
                                       @NotNull(message="Status cannot be null.")
                                       @NotNull(message="Status cannot be null.") com.fasterxml.jackson.databind.JsonNode&nbsp;launcherExtension)
                                throws <a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></pre>
<div class="block">Update the requested launcher extension field for this job.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#updateRequestedLauncherExt(java.lang.String,com.fasterxml.jackson.databind.JsonNode)">updateRequestedLauncherExt</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - The id of the job to update the laucher extension for.</dd>
<dd><code>launcherExtension</code> - The updated requested launcher extension JSON blob.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></code> - If no job with the given <code>id</code> exists</dd>
</dl>
</li>
</ul>
<a id="getRequestedLauncherExt(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRequestedLauncherExt</h4>
<pre class="methodSignature">public&nbsp;com.fasterxml.jackson.databind.JsonNode&nbsp;getRequestedLauncherExt&#8203;(@NotBlank
                                                                       @NotBlank java.lang.String&nbsp;id)
                                                                throws <a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></pre>
<div class="block">Get the command the job used or is using.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#getRequestedLauncherExt(java.lang.String)">getRequestedLauncherExt</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - The id of the job to get the command for</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The <code>JsonNode</code> passed to the launcher at launch, or a
 <code>NullNode</code> if none was saved</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></code> - If no job with the given <code>id</code> exists</dd>
</dl>
</li>
</ul>
<a id="updateLauncherExt(java.lang.String,com.fasterxml.jackson.databind.JsonNode)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateLauncherExt</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;updateLauncherExt&#8203;(@NotBlank(message="No job id entered. Unable to update.")
                              @NotBlank(message="No job id entered. Unable to update.") java.lang.String&nbsp;id,
                              @NotNull(message="Status cannot be null.")
                              @NotNull(message="Status cannot be null.") com.fasterxml.jackson.databind.JsonNode&nbsp;launcherExtension)
                       throws <a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></pre>
<div class="block">Update the launcher extension field for this job.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#updateLauncherExt(java.lang.String,com.fasterxml.jackson.databind.JsonNode)">updateLauncherExt</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - The id of the job to update the launcher extension for.</dd>
<dd><code>launcherExtension</code> - The updated launcher extension JSON blob.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></code> - If no job with the given <code>id</code> exists</dd>
</dl>
</li>
</ul>
<a id="getLauncherExt(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLauncherExt</h4>
<pre class="methodSignature">public&nbsp;com.fasterxml.jackson.databind.JsonNode&nbsp;getLauncherExt&#8203;(@NotBlank
                                                              @NotBlank java.lang.String&nbsp;id)
                                                       throws <a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></pre>
<div class="block">Get the job requested launcher extension.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#getLauncherExt(java.lang.String)">getLauncherExt</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - The id of the job to get the command for</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The <code>JsonNode</code> emitted by the launcher at launch</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></code> - If no job with the given <code>id</code> exists</dd>
</dl>
</li>
</ul>
<a id="addConfigsToResource(java.lang.String,java.util.Set,java.lang.Class)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addConfigsToResource</h4>
<pre class="methodSignature">public&nbsp;&lt;R extends <a href="../../../../../common/external/dtos/v4/CommonResource.html" title="class in com.netflix.genie.common.external.dtos.v4">CommonResource</a>&gt;&nbsp;void&nbsp;addConfigsToResource&#8203;(@NotBlank
                                                            @NotBlank java.lang.String&nbsp;id,
                                                            java.util.Set&lt;@Size(max=1024) java.lang.String&gt;&nbsp;configs,
                                                            java.lang.Class&lt;R&gt;&nbsp;resourceClass)
                                                     throws <a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></pre>
<div class="block">Add configuration files to the existing set for a resource.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#addConfigsToResource(java.lang.String,java.util.Set,java.lang.Class)">addConfigsToResource</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>R</code> - The resource type that the configs should be associated with</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - The id of the resource to add the configuration file to. Not null/empty/blank.</dd>
<dd><code>configs</code> - The configuration files to add. Max file length is 1024 characters.</dd>
<dd><code>resourceClass</code> - The class of the resource</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></code> - If no resource of type <a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services"><code>PersistenceService</code></a> with id exists</dd>
</dl>
</li>
</ul>
<a id="getConfigsForResource(java.lang.String,java.lang.Class)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getConfigsForResource</h4>
<pre class="methodSignature">public&nbsp;&lt;R extends <a href="../../../../../common/external/dtos/v4/CommonResource.html" title="class in com.netflix.genie.common.external.dtos.v4">CommonResource</a>&gt;&nbsp;java.util.Set&lt;java.lang.String&gt;&nbsp;getConfigsForResource&#8203;(@NotBlank
                                                                                        @NotBlank java.lang.String&nbsp;id,
                                                                                        java.lang.Class&lt;R&gt;&nbsp;resourceClass)
                                                                                 throws <a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></pre>
<div class="block">Get the set of configuration files associated with the resource with the given id.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#getConfigsForResource(java.lang.String,java.lang.Class)">getConfigsForResource</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>R</code> - The resource type that the configs are associated with</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - The id of the resource to get the configuration files for. Not null/empty/blank.</dd>
<dd><code>resourceClass</code> - The class of the resource</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The set of configuration files as paths</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></code> - If no resource of type <a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services"><code>PersistenceService</code></a> with id exists</dd>
</dl>
</li>
</ul>
<a id="updateConfigsForResource(java.lang.String,java.util.Set,java.lang.Class)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateConfigsForResource</h4>
<pre class="methodSignature">public&nbsp;&lt;R extends <a href="../../../../../common/external/dtos/v4/CommonResource.html" title="class in com.netflix.genie.common.external.dtos.v4">CommonResource</a>&gt;&nbsp;void&nbsp;updateConfigsForResource&#8203;(@NotBlank
                                                                @NotBlank java.lang.String&nbsp;id,
                                                                java.util.Set&lt;@Size(max=1024) java.lang.String&gt;&nbsp;configs,
                                                                java.lang.Class&lt;R&gt;&nbsp;resourceClass)
                                                         throws <a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></pre>
<div class="block">Update the set of configuration files associated with the resource with the given id.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#updateConfigsForResource(java.lang.String,java.util.Set,java.lang.Class)">updateConfigsForResource</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>R</code> - The resource type that the configs should be associated with</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - The id of the resource to update the configuration files for. Not null/empty/blank.</dd>
<dd><code>configs</code> - The configuration files to replace existing configurations with. Not null/empty.</dd>
<dd><code>resourceClass</code> - The class of the resource</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></code> - If no resource of type <a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services"><code>PersistenceService</code></a> with id exists</dd>
</dl>
</li>
</ul>
<a id="removeAllConfigsForResource(java.lang.String,java.lang.Class)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeAllConfigsForResource</h4>
<pre class="methodSignature">public&nbsp;&lt;R extends <a href="../../../../../common/external/dtos/v4/CommonResource.html" title="class in com.netflix.genie.common.external.dtos.v4">CommonResource</a>&gt;&nbsp;void&nbsp;removeAllConfigsForResource&#8203;(@NotBlank
                                                                   @NotBlank java.lang.String&nbsp;id,
                                                                   java.lang.Class&lt;R&gt;&nbsp;resourceClass)
                                                            throws <a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></pre>
<div class="block">Remove all configuration files from the resource.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#removeAllConfigsForResource(java.lang.String,java.lang.Class)">removeAllConfigsForResource</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>R</code> - The resource type that the configs should be associated with</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - The id of the resource to remove the configuration file from. Not null/empty/blank.</dd>
<dd><code>resourceClass</code> - The class of the resource</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></code> - If no resource of type <a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services"><code>PersistenceService</code></a> with id exists</dd>
</dl>
</li>
</ul>
<a id="removeConfigForResource(java.lang.String,java.lang.String,java.lang.Class)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeConfigForResource</h4>
<pre class="methodSignature">public&nbsp;&lt;R extends <a href="../../../../../common/external/dtos/v4/CommonResource.html" title="class in com.netflix.genie.common.external.dtos.v4">CommonResource</a>&gt;&nbsp;void&nbsp;removeConfigForResource&#8203;(@NotBlank
                                                               @NotBlank java.lang.String&nbsp;id,
                                                               @NotBlank
                                                               @NotBlank java.lang.String&nbsp;config,
                                                               java.lang.Class&lt;R&gt;&nbsp;resourceClass)
                                                        throws <a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></pre>
<div class="block">Remove a configuration file from the given resource.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#removeConfigForResource(java.lang.String,java.lang.String,java.lang.Class)">removeConfigForResource</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>R</code> - The resource type that the configs should be associated with</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - The id of the resource to remove the configuration file from. Not null/empty/blank.</dd>
<dd><code>config</code> - The configuration file to remove. Not null/empty/blank.</dd>
<dd><code>resourceClass</code> - The class of the resource</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></code> - If no resource of type <a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services"><code>PersistenceService</code></a> with id exists</dd>
</dl>
</li>
</ul>
<a id="addDependenciesToResource(java.lang.String,java.util.Set,java.lang.Class)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addDependenciesToResource</h4>
<pre class="methodSignature">public&nbsp;&lt;R extends <a href="../../../../../common/external/dtos/v4/CommonResource.html" title="class in com.netflix.genie.common.external.dtos.v4">CommonResource</a>&gt;&nbsp;void&nbsp;addDependenciesToResource&#8203;(@NotBlank
                                                                 @NotBlank java.lang.String&nbsp;id,
                                                                 java.util.Set&lt;@Size(max=1024) java.lang.String&gt;&nbsp;dependencies,
                                                                 java.lang.Class&lt;R&gt;&nbsp;resourceClass)
                                                          throws <a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></pre>
<div class="block">Add dependency files to the existing set for a resource.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#addDependenciesToResource(java.lang.String,java.util.Set,java.lang.Class)">addDependenciesToResource</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>R</code> - The resource type that the dependencies should be associated with</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - The id of the resource to add the dependency file to. Not null/empty/blank.</dd>
<dd><code>dependencies</code> - The dependency files to add. Max file length is 1024 characters.</dd>
<dd><code>resourceClass</code> - The class of the resource</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></code> - If no resource of type <a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services"><code>PersistenceService</code></a> with id exists</dd>
</dl>
</li>
</ul>
<a id="getDependenciesForResource(java.lang.String,java.lang.Class)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDependenciesForResource</h4>
<pre class="methodSignature">public&nbsp;&lt;R extends <a href="../../../../../common/external/dtos/v4/CommonResource.html" title="class in com.netflix.genie.common.external.dtos.v4">CommonResource</a>&gt;&nbsp;java.util.Set&lt;java.lang.String&gt;&nbsp;getDependenciesForResource&#8203;(@NotBlank
                                                                                             @NotBlank java.lang.String&nbsp;id,
                                                                                             java.lang.Class&lt;R&gt;&nbsp;resourceClass)
                                                                                      throws <a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></pre>
<div class="block">Get the set of dependency files associated with the resource with the given id.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#getDependenciesForResource(java.lang.String,java.lang.Class)">getDependenciesForResource</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>R</code> - The resource type that the dependencies are associated with</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - The id of the resource to get the dependency files for. Not null/empty/blank.</dd>
<dd><code>resourceClass</code> - The class of the resource</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The set of dependency files as paths</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></code> - If no resource of type <a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services"><code>PersistenceService</code></a> with id exists</dd>
</dl>
</li>
</ul>
<a id="updateDependenciesForResource(java.lang.String,java.util.Set,java.lang.Class)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateDependenciesForResource</h4>
<pre class="methodSignature">public&nbsp;&lt;R extends <a href="../../../../../common/external/dtos/v4/CommonResource.html" title="class in com.netflix.genie.common.external.dtos.v4">CommonResource</a>&gt;&nbsp;void&nbsp;updateDependenciesForResource&#8203;(@NotBlank
                                                                     @NotBlank java.lang.String&nbsp;id,
                                                                     java.util.Set&lt;@Size(max=1024) java.lang.String&gt;&nbsp;dependencies,
                                                                     java.lang.Class&lt;R&gt;&nbsp;resourceClass)
                                                              throws <a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></pre>
<div class="block">Update the set of dependency files associated with the resource with the given id.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#updateDependenciesForResource(java.lang.String,java.util.Set,java.lang.Class)">updateDependenciesForResource</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>R</code> - The resource type that the dependencies should be associated with</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - The id of the resource to update the dependency files for. Not null/empty/blank.</dd>
<dd><code>dependencies</code> - The dependency files to replace existing dependencys with. Not null/empty.</dd>
<dd><code>resourceClass</code> - The class of the resource</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></code> - If no resource of type <a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services"><code>PersistenceService</code></a> with id exists</dd>
</dl>
</li>
</ul>
<a id="removeAllDependenciesForResource(java.lang.String,java.lang.Class)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeAllDependenciesForResource</h4>
<pre class="methodSignature">public&nbsp;&lt;R extends <a href="../../../../../common/external/dtos/v4/CommonResource.html" title="class in com.netflix.genie.common.external.dtos.v4">CommonResource</a>&gt;&nbsp;void&nbsp;removeAllDependenciesForResource&#8203;(@NotBlank
                                                                        @NotBlank java.lang.String&nbsp;id,
                                                                        java.lang.Class&lt;R&gt;&nbsp;resourceClass)
                                                                 throws <a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></pre>
<div class="block">Remove all dependency files from the resource.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#removeAllDependenciesForResource(java.lang.String,java.lang.Class)">removeAllDependenciesForResource</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>R</code> - The resource type that the dependencies should be associated with</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - The id of the resource to remove the dependency file from. Not null/empty/blank.</dd>
<dd><code>resourceClass</code> - The class of the resource</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></code> - If no resource of type <a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services"><code>PersistenceService</code></a> with id exists</dd>
</dl>
</li>
</ul>
<a id="removeDependencyForResource(java.lang.String,java.lang.String,java.lang.Class)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeDependencyForResource</h4>
<pre class="methodSignature">public&nbsp;&lt;R extends <a href="../../../../../common/external/dtos/v4/CommonResource.html" title="class in com.netflix.genie.common.external.dtos.v4">CommonResource</a>&gt;&nbsp;void&nbsp;removeDependencyForResource&#8203;(@NotBlank
                                                                   @NotBlank java.lang.String&nbsp;id,
                                                                   @NotBlank
                                                                   @NotBlank java.lang.String&nbsp;dependency,
                                                                   java.lang.Class&lt;R&gt;&nbsp;resourceClass)
                                                            throws <a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></pre>
<div class="block">Remove a dependency file from the given resource.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#removeDependencyForResource(java.lang.String,java.lang.String,java.lang.Class)">removeDependencyForResource</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>R</code> - The resource type that the dependencies should be associated with</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - The id of the resource to remove the dependency file from. Not null/empty/blank.</dd>
<dd><code>dependency</code> - The dependency file to remove. Not null/empty/blank.</dd>
<dd><code>resourceClass</code> - The class of the resource</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></code> - If no resource of type <a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services"><code>PersistenceService</code></a> with id exists</dd>
</dl>
</li>
</ul>
<a id="addTagsToResource(java.lang.String,java.util.Set,java.lang.Class)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addTagsToResource</h4>
<pre class="methodSignature">public&nbsp;&lt;R extends <a href="../../../../../common/external/dtos/v4/CommonResource.html" title="class in com.netflix.genie.common.external.dtos.v4">CommonResource</a>&gt;&nbsp;void&nbsp;addTagsToResource&#8203;(@NotBlank
                                                         @NotBlank java.lang.String&nbsp;id,
                                                         java.util.Set&lt;@Size(max=255) java.lang.String&gt;&nbsp;tags,
                                                         java.lang.Class&lt;R&gt;&nbsp;resourceClass)
                                                  throws <a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></pre>
<div class="block">Add tags to the existing set for a resource.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#addTagsToResource(java.lang.String,java.util.Set,java.lang.Class)">addTagsToResource</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>R</code> - The resource type that the tags should be associated with</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - The id of the resource to add the tags to. Not null/empty/blank.</dd>
<dd><code>tags</code> - The tags to add. Max file length is 255 characters.</dd>
<dd><code>resourceClass</code> - The class of the resource</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></code> - If no resource of type <a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services"><code>PersistenceService</code></a> with id exists</dd>
</dl>
</li>
</ul>
<a id="getTagsForResource(java.lang.String,java.lang.Class)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTagsForResource</h4>
<pre class="methodSignature">public&nbsp;&lt;R extends <a href="../../../../../common/external/dtos/v4/CommonResource.html" title="class in com.netflix.genie.common.external.dtos.v4">CommonResource</a>&gt;&nbsp;java.util.Set&lt;java.lang.String&gt;&nbsp;getTagsForResource&#8203;(@NotBlank
                                                                                     @NotBlank java.lang.String&nbsp;id,
                                                                                     java.lang.Class&lt;R&gt;&nbsp;resourceClass)
                                                                              throws <a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></pre>
<div class="block">Get the set of tags associated with the resource with the given id.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#getTagsForResource(java.lang.String,java.lang.Class)">getTagsForResource</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>R</code> - The resource type that the tags are associated with</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - The id of the resource to get the tags for. Not null/empty/blank.</dd>
<dd><code>resourceClass</code> - The class of the resource</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The set of tags</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></code> - If no resource of type <a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services"><code>PersistenceService</code></a> with id exists</dd>
</dl>
</li>
</ul>
<a id="updateTagsForResource(java.lang.String,java.util.Set,java.lang.Class)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateTagsForResource</h4>
<pre class="methodSignature">public&nbsp;&lt;R extends <a href="../../../../../common/external/dtos/v4/CommonResource.html" title="class in com.netflix.genie.common.external.dtos.v4">CommonResource</a>&gt;&nbsp;void&nbsp;updateTagsForResource&#8203;(@NotBlank
                                                             @NotBlank java.lang.String&nbsp;id,
                                                             java.util.Set&lt;@Size(max=255) java.lang.String&gt;&nbsp;tags,
                                                             java.lang.Class&lt;R&gt;&nbsp;resourceClass)
                                                      throws <a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></pre>
<div class="block">Update the set of tags associated with the resource with the given id.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#updateTagsForResource(java.lang.String,java.util.Set,java.lang.Class)">updateTagsForResource</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>R</code> - The resource type that the tags should be associated with</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - The id of the resource to update the tags for. Not null/empty/blank.</dd>
<dd><code>tags</code> - The tags to replace existing tags with. Not null/empty.</dd>
<dd><code>resourceClass</code> - The class of the resource</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></code> - If no resource of type <a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services"><code>PersistenceService</code></a> with id exists</dd>
</dl>
</li>
</ul>
<a id="removeAllTagsForResource(java.lang.String,java.lang.Class)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeAllTagsForResource</h4>
<pre class="methodSignature">public&nbsp;&lt;R extends <a href="../../../../../common/external/dtos/v4/CommonResource.html" title="class in com.netflix.genie.common.external.dtos.v4">CommonResource</a>&gt;&nbsp;void&nbsp;removeAllTagsForResource&#8203;(@NotBlank
                                                                @NotBlank java.lang.String&nbsp;id,
                                                                java.lang.Class&lt;R&gt;&nbsp;resourceClass)
                                                         throws <a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></pre>
<div class="block">Remove all tags from the resource.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#removeAllTagsForResource(java.lang.String,java.lang.Class)">removeAllTagsForResource</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>R</code> - The resource type that the tags should be associated with</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - The id of the resource to remove the tags from. Not null/empty/blank.</dd>
<dd><code>resourceClass</code> - The class of the resource</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></code> - If no resource of type <a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services"><code>PersistenceService</code></a> with id exists</dd>
</dl>
</li>
</ul>
<a id="removeTagForResource(java.lang.String,java.lang.String,java.lang.Class)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeTagForResource</h4>
<pre class="methodSignature">public&nbsp;&lt;R extends <a href="../../../../../common/external/dtos/v4/CommonResource.html" title="class in com.netflix.genie.common.external.dtos.v4">CommonResource</a>&gt;&nbsp;void&nbsp;removeTagForResource&#8203;(@NotBlank
                                                            @NotBlank java.lang.String&nbsp;id,
                                                            @NotBlank
                                                            @NotBlank java.lang.String&nbsp;tag,
                                                            java.lang.Class&lt;R&gt;&nbsp;resourceClass)
                                                     throws <a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></pre>
<div class="block">Remove a tag from the given resource.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#removeTagForResource(java.lang.String,java.lang.String,java.lang.Class)">removeTagForResource</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>R</code> - The resource type that the tag should be associated with</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - The id of the resource to remove the tag from. Not null/empty/blank.</dd>
<dd><code>tag</code> - The tag to remove. Not null/empty/blank.</dd>
<dd><code>resourceClass</code> - The class of the resource</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../exceptions/checked/NotFoundException.html" title="class in com.netflix.genie.web.exceptions.checked">NotFoundException</a></code> - If no resource of type <a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services"><code>PersistenceService</code></a> with id exists</dd>
</dl>
</li>
</ul>
<a id="deleteUnusedTags(java.time.Instant,@javax.validation.constraints.Min(1L)int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteUnusedTags</h4>
<pre class="methodSignature">@Transactional(isolation=READ_COMMITTED)
public&nbsp;long&nbsp;deleteUnusedTags&#8203;(@NotNull
                             @NotNull java.time.Instant&nbsp;createdThreshold,
                             @Min(1L)
                             @javax.validation.constraints.Min(1L) int&nbsp;batchSize)</pre>
<div class="block">Delete all tags from the database that aren't referenced which were created before the supplied created
 threshold.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#deleteUnusedTags(java.time.Instant,@javax.validation.constraints.Min(1L)int)">deleteUnusedTags</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>createdThreshold</code> - The instant in time where tags created before this time that aren't referenced
                         will be deleted. Inclusive</dd>
<dd><code>batchSize</code> - The maximum number of tags to delete in a single transaction</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The number of tags deleted</dd>
</dl>
</li>
</ul>
<a id="deleteUnusedFiles(java.time.Instant,@javax.validation.constraints.Min(1L)int)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>deleteUnusedFiles</h4>
<pre class="methodSignature">@Transactional(isolation=READ_COMMITTED)
public&nbsp;long&nbsp;deleteUnusedFiles&#8203;(@NotNull
                              @NotNull java.time.Instant&nbsp;createdThreshold,
                              @Min(1L)
                              @javax.validation.constraints.Min(1L) int&nbsp;batchSize)</pre>
<div class="block">Delete all files from the database that aren't referenced which were created before the supplied created
 threshold.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../PersistenceService.html#deleteUnusedFiles(java.time.Instant,@javax.validation.constraints.Min(1L)int)">deleteUnusedFiles</a></code>&nbsp;in interface&nbsp;<code><a href="../../PersistenceService.html" title="interface in com.netflix.genie.web.data.services">PersistenceService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>createdThreshold</code> - The instant in time where files created before this time that aren't referenced
                         will be deleted. Inclusive</dd>
<dd><code>batchSize</code> - The maximum number of files to delete in a single transaction</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The number of files deleted</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
